/*
Navicat MySQL Data Transfer

Source Server         : mysql_local
Source Server Version : 50505
Source Host           : localhost:3306
Source Database       : gitblog

Target Server Type    : MYSQL
Target Server Version : 50505
File Encoding         : 65001

Date: 2017-05-28 22:44:31
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for blog_article
-- ----------------------------
DROP TABLE IF EXISTS `blog_article`;
CREATE TABLE `blog_article` (
  `art_id` int(11) NOT NULL AUTO_INCREMENT,
  `art_title` varchar(100) DEFAULT '' COMMENT '//文章标题',
  `art_tag` varchar(100) DEFAULT '' COMMENT '//关键词',
  `art_description` varchar(255) DEFAULT '' COMMENT '//描述',
  `art_thumb` varchar(255) DEFAULT '' COMMENT '//缩略图',
  `art_content` text COMMENT '//内容',
  `art_time` int(11) DEFAULT '0' COMMENT '//发布时间',
  `art_editor` varchar(50) DEFAULT '' COMMENT '//作者',
  `art_view` int(11) DEFAULT '0',
  `cate_id` int(11) DEFAULT '0' COMMENT '//分类ID',
  `art_time_month` varchar(10) DEFAULT NULL COMMENT '按月进行分类',
  PRIMARY KEY (`art_id`)
) ENGINE=MyISAM AUTO_INCREMENT=41 DEFAULT CHARSET=utf8 COMMENT='//文章';

-- ----------------------------
-- Records of blog_article
-- ----------------------------
INSERT INTO `blog_article` VALUES ('19', 'Redis的高级应用', 'Redis的高级应用', 'Redis的高级应用', 'uploads/20161209232729600.jpg', '<h2 style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:21px;\">实验简介</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">前面学习了Redis的基础知识和基本命令，接下来继续讲解Redis的高级应用，包括：安全性设置，主从复制，事务处理， 持久化机制， 虚拟内存的使用。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h2 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">一、安全性</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">设置在客户端连接是需要指定的密码（由于redis速度相当的快，一秒钟可以150K次的密码尝试，所以需要设置一个密码强度很大的密码）。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">设置密码的方式有两种：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">（1） 使用config set 命令的requirepass &nbsp;参数，具体格式为config set requirepass &nbsp;“password”。\r\n（2） 配置redis.conf 中设置requirepass属性，后面为密码。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">输入认证的方式也有两种：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">（1） 登录时可以 &nbsp; &nbsp; redis-cli -a password</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">（2）登录后使用 auth &nbsp;password</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（1）设置密码</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">第一种密码设置方式在上一个实验中已经提到，（在CONFIG SET命令讲解的实例），此处我们来看看第二种方式设置密码。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">首先需要进入Redis的安装目录，然后修改配置文件redis.conf。根据grep命令的结果，使用vi编辑器修改“# requirepass foobared” 为“requirepass test123”，然后保存退出。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">$&nbsp;grep&nbsp;-n&nbsp;requirepass&nbsp;/etc/redis/redis.conf\r\n$&nbsp;sudo&nbsp;vim&nbsp;/etc/redis/redis.conf</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">编辑redis.conf的结果：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img x-evernote-mime=\"image/png\" class=\"en-media\" src=\"/shard/s70/res/eba8cda2-e4e4-4c26-9571-6198a3a8232c\" type=\"image/png\" hash=\"8e15072ee4909d99fb387fc5d304bc63\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（2）重启redis-server 与redis-cli</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">重启redis server。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">$&nbsp;sudo&nbsp;service&nbsp;redis-server&nbsp;restart</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">进入到redis-cli交互界面进行验证</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">$&nbsp;redis-cli\r\n\r\n&gt;&nbsp;info\r\n\r\n&gt;&nbsp;auth&nbsp;test123\r\n\r\n&gt;&nbsp;info\r\n\r\n&gt;&nbsp;exit</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img x-evernote-mime=\"image/png\" class=\"en-media\" src=\"/shard/s70/res/9c68c810-5d19-46fd-a004-b963cc816d4e\" type=\"image/png\" hash=\"7f99320bc7effaec145952b28226f819\" alt=\"图片描述信息\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">结果表明第一次info命令失败，在auth认证之后info命令正常返回。最后退出redis-cli。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">另外一种密码认证方式：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">$&nbsp;redis-cli&nbsp;-a&nbsp;test123\r\n\r\n&gt;&nbsp;info</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img x-evernote-mime=\"image/png\" class=\"en-media\" src=\"/shard/s70/res/f1990bf8-c6e4-4119-9c1b-74879e255e43\" type=\"image/png\" hash=\"b5bf71bd7286bff1893053d7f582d27e\" alt=\"图片描述信息\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h2 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">二、主从复制</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">由于环境的原因，在此处笔者大致讲解主从复制的工作流程，不做实验。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">Redis的主从复制配置和使用都比较简单，通过主从复制可以允许多个slave server拥有和master server相同的数据库副本。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">从服务器只能读，不能写。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">Redis主从复制特点：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">1、master可以拥有多个slave。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">2、多个slave可以连接同一个master外，还可以连接到其他的slave。（当master宕机后，相连的slave转变为master）</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">3、主从复制不会阻塞master，再同步数据时，master可以继续处理client请求。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">4、提高了系统的可伸缩性。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">Redis主从复制的过程：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">1、Slave与master建立连接，发送sync同步命令。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">2、 Master会启动一个后台进程，将数据库快照保存到文件中，同时Master主进程会开始收集新的写命令并缓存。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">3、 后台完成保存后，就将此文件发送给Slave。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">4、 Slave将此文件保存到磁盘上。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h2 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">三、事务处理</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">Redis的事务处理比较简单。只能保证client发起的事务中的命令可以连续的执行，而且不会插入其他的client命令，当一个client在连接\r\n中发出multi命令时，这个连接就进入一个事务的上下文，该连接后续的命令不会执行，而是存放到一个队列中，当执行exec命令时，redis会顺序的\r\n执行队列中的所有命令。如果其中执行出现错误，执行正确的不会回滚，不同于关系型数据库的事务。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;multi\r\n\r\n&gt;&nbsp;set&nbsp;name&nbsp;a\r\n\r\n&gt;&nbsp;set&nbsp;name&nbsp;b\r\n\r\n&gt;&nbsp;exec\r\n\r\n&gt;&nbsp;get&nbsp;name</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img x-evernote-mime=\"image/png\" class=\"en-media\" src=\"/shard/s70/res/b9e0a072-842a-446c-acb7-ff88cd4a57c0\" type=\"image/png\" hash=\"c558b2b561ae393e9bdfd042e90beb82\" alt=\"图片描述信息\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h2 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">四、持久化机制</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">Redis是一个支持持久化的内存数据库，Redis需要经常将内存中的数据同步到磁盘来保证持久化。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">Redis支持两种持久化方式：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">1、snapshotting（快照），将数据存放到文件里，默认方式。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">是将内存中的数据已快照的方式写入到二进制文件中，默认文件dump.rdb，可以通过配置设置自动做快照持久化的方式。可配置Redis在n秒内如果超过m个key被修改就自动保存快照。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">save 900 1 &nbsp; &nbsp; &nbsp; #900秒内如果超过1个key被修改，则发起快照保存</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">save 300 &nbsp;10 &nbsp; #300秒内如果超过10个key被修改，则快照保存</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">2、 Append-only file（缩写为aof），将读写操作存放到文件中。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">由于快照方式在一定间隔时间做一次，所以如果Redis意外down掉的话，就会丢失最后一次快照后的所有修改。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">aof比快照方式有更好的持久化性，是由于使用aof时，redis会将每一个收到的写命令都通过write函数写入到文件中当redis启动时会通过重新执行文件中保存的写命令来在内存中重新建立整个数据库的内容。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">由于os会在内核中缓存write做的修改，所以可能不是立即写到磁盘上，这样aof方式的持久化也还是有可能会丢失一部分数据。可以通过配置文件告诉redis我们想要通过fsync函数强制os写入到磁盘的时机。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">配置文件中的可配置参数：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">appendonly&nbsp;&nbsp;&nbsp;yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//启用aof持久化方式\r\n\r\n#appendfsync&nbsp;&nbsp;always&nbsp;//收到写命令就立即写入磁盘，最慢，但是保证了数据的完整持久化\r\n\r\nappendfsync&nbsp;&nbsp;&nbsp;everysec&nbsp;&nbsp;//每秒中写入磁盘一次，在性能和持久化方面做了很好的折中\r\n\r\n#appendfsync&nbsp;&nbsp;no&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//完全依赖os，性能最好，持久化没有保证</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">在redis-cli的命令中，SAVE命令是将数据写入磁盘中。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;help&nbsp;save\r\n\r\n&gt;save</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><blockquote style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><p><img x-evernote-mime=\"image/png\" class=\"en-media\" src=\"/shard/s70/res/f804e2b7-a4e2-4e1b-bdeb-a47f515b9342\" type=\"image/png\" hash=\"bb49ca4361f20fc809c0e334507030ae\" alt=\"图片描述信息\"/></p></blockquote><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h2 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">五、虚拟内存的使用</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">虚拟内存管理在2.6及之上版本取消了，在安装实验中，选择的是2.8.9版本的redis\r\n，所有实验中的配置文件中没有虚拟内存管理功能的配置选项。此处仅为讲解</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">Redis的虚拟内存是暂时把不经常访问的数据从内存交换到磁盘中，从而腾出内存空间用于其他的访问数据，尤其对于redis这样的内存数据库，内\r\n存总是不够用的。除了分隔到多个redis server外，提高数据库的容量的方法就是使用虚拟内存，把那些不常访问的数据交换到磁盘上。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">通过配置vm相关的redis.config配置：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-size: 14px;\">vm-enable&nbsp;&nbsp;yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#开启vm功能\r\n\r\nvm-swap-file&nbsp;&nbsp;&nbsp;&nbsp;/tmp/redis.swap&nbsp;&nbsp;#交换出来的value保存的文件路径\r\n\r\nvm-max-memory&nbsp;&nbsp;&nbsp;&nbsp;10000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#redis使用的最大内存上线\r\n\r\n&nbsp;vm-page-size&nbsp;&nbsp;&nbsp;32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#每个页面的大小32字节\r\n\r\nvm-pages&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;123217729&nbsp;&nbsp;&nbsp;&nbsp;#最多使用多小个页面\r\n\r\nvm-max-threads&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#用于执行value对象换入的工作线程数量</pre><p><br/></p>', '1481297542', 'cuiyufei', '2', '34', '2016-12');
INSERT INTO `blog_article` VALUES ('3', '快速去除字符串中的空格', 'shell', 'shell中快速去除字符串中的空格', 'uploads/20161209232326519.jpg', '<p>在UNIX上使用sed命令进行字符串处理中常常遇到的问题就是行首行尾的空格怎么删除。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\">下面介绍sed是怎样实现的，当然awk同样可以。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\"><strong>1、删除行首空格</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><span style=\"font-size: 12px; float: right;\"><a style=\"color: rgb(51, 51, 51); cursor: pointer;\"><span style=\"text-decoration:underline;\">复制代码</span></a></span>代码如下:</p><p><br/>sed ‘s/^[ \\t]*//g&#39;<br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\">说明：</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\">第一个/的左边是s表示替换，即将空格替换为空。<br/>第一个/的右边是表示后面的以xx开头。<br/>中括号表示“或”，空格或tab中的任意一种。这是正则表达式的规范。<br/>中括号右边是*，表示一个或多个。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\">第二个和第三个\\中间没有东西，表示空</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\">g表示替换原来buffer（缓冲区）中的，sed在处理字符串的时候并不对源文件进行直接处理，先创建一个buffer，但是加g表示对原buffer进行替换</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\">整体的意思是：用空字符去替换一个或多个用空格或tab开头的本体字符串</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\"><strong>2、删除行末空格</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><span style=\"font-size: 12px; float: right;\"><a style=\"color: rgb(51, 51, 51); cursor: pointer;\"><span style=\"text-decoration:underline;\">复制代码</span></a></span>代码如下:</p><p><br/>sed ‘s/[ \\t]*$//g&#39;<br/></p><p><br style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);\">和上面稍微有些不同是前面删除了^符，在后面加上了美元符，这表示以xx结尾的字符串为对象。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\">但是要注意在KSH中，Tab并不是\\t而是直接打入一个Tab就可以了。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\"><strong>3、删除所有的空格</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><span style=\"font-size: 12px; float: right;\"><a style=\"color: rgb(51, 51, 51); cursor: pointer;\"><span style=\"text-decoration:underline;\">复制代码</span></a></span>代码如下:</p><p><br/></p><p>sed s/[[:space:]]//g</p><p><br/></p>', '1481296706', 'cuiyufei', '20', '32', '2016-12');
INSERT INTO `blog_article` VALUES ('4', '初始化 MySQL 数据库', 'MySQL', '初始化 MySQL 数据库： Neither host ‘localhost.localdomain’ nor ‘localhost’ could be looked up with /usr/bin/resolveip', 'uploads/20161209232326519.jpg', '<p style=\"text-align:left;margin-top: 0px; margin-bottom: 0cm; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: gotham, helvetica, arial, sans-serif;\"><span style=\"color:#3F7D5F\"><span style=\"font-family:Monospace\"><span style=\"font-size:16px\">Neither host &#39;localhost.localdomain&#39; nor &#39;localhost&#39; could be looked up with</span></span></span></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><span style=\"color:#3F7D5F\"><span style=\"font-family:Monospace\"><span style=\"font-size:16px\">/usr/bin/resolveip</span></span></span></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><span style=\"color:#3F7D5F\"><span style=\"font-family:Monospace\"><span style=\"font-size:16px\">Please configure the &#39;hostname&#39; command to return a correct hostname.<br/></span></span><span style=\"font-family:Monospace\"><span style=\"font-size:12px\">错误：</span></span></span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0cm; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><span style=\"color:#3F7D5F\"><span style=\"font-family:Monospace\"><span style=\"font-size:12px\">解决办法</span></span></span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0cm; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><span style=\"color:#3F7D5F\"><span style=\"font-family:Monospace\"><span style=\"font-size:16px\">1</span></span><span style=\"font-family:Monospace\"><span style=\"font-size:12px\">、查看</span></span><span style=\"font-family:Monospace\"><span style=\"font-size:16px\">/etc/hosts</span></span><span style=\"font-family:Monospace\"><span style=\"font-size:12px\">，内容如下：</span></span></span></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><span style=\"color:#3F7D5F\"><span style=\"font-family:Monospace\"><span style=\"font-size:16px\"># Do not remove the following line, or various programs</span></span></span></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><span style=\"color:#3F7D5F\"><span style=\"font-family:Monospace\"><span style=\"font-size:16px\"># that require network functionality will fail.</span></span></span></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><span style=\"color:#3F7D5F\"><span style=\"font-family:Monospace\"><span style=\"font-size:16px\">::1 localhost.localdomain localhost</span></span></span></p><p><span style=\"color:#3F7D5F\"><span style=\"font-family:Monospace\"><span style=\"font-size:16px\">2</span></span><span style=\"font-family:Monospace\"><span style=\"font-size:12px\">、将</span></span><span style=\"font-family:Monospace\"><span style=\"font-size:16px\">::1</span></span><span style=\"font-family:Monospace\"><span style=\"font-size:12px\">修改为</span></span><span style=\"font-family:Monospace\"><span style=\"font-size:16px\">127.0.0.1</span></span><span style=\"font-family:Monospace\"><span style=\"font-size:12px\">后，启动成功。</span></span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">CREATE TABLE IF NOT EXISTS `music_dxflow_save` (</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">&nbsp; `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">&nbsp; `phone` varchar(11) NOT NULL COMMENT &#39;用户手机号&#39;,</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">&nbsp; `type` tinyint(4) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;1-电信&#39;,</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">&nbsp; `flow` float unsigned NOT NULL COMMENT &#39;节省流量，单位兆&#39;,</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">&nbsp; `month` int(10) unsigned NOT NULL COMMENT &#39;所在月，如201608&#39;,</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">&nbsp; `update_time` int(10) unsigned NOT NULL COMMENT &#39;更新时间&#39;,</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">&nbsp; `app` tinyint(3) unsigned NOT NULL COMMENT &#39;1-android 2-ios&#39;,</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">&nbsp; PRIMARY KEY (`id`),</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">&nbsp; UNIQUE KEY `phone` (`phone`)</span></span></p><p><span style=\"font-family:宋体;font-size:10px\"><span style=\"font-size:9pt\">) ENGINE=InnoDB&nbsp; DEFAULT CHARSET=utf8 COMMENT=&#39;电信用户节省流量表&#39; AUTO_INCREMENT=3 ;</span></span></p><p><br/></p>', '1481296833', 'cuiyufei', '34', '32', '2016-12');
INSERT INTO `blog_article` VALUES ('5', '解决ctags对php的支持', 'ctag', '解决ctags对php的支持', 'uploads/20161209232326519.jpg', '<p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">方案1</span></span></span></p><hr style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"/><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">1. 下载ctags源码包。</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">2. 下载ctags-php5.patch&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;&nbsp;&nbsp; wget http://svn.bitflux.ch/repos/public/misc/ctags-php5.patch</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">3. 解压ctags源码包后，对源码包里的php.c文件打补丁。</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;&nbsp;&nbsp; # patch php.c ctags-php5.patch</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;&nbsp;&nbsp; 这样，ctags对php的支持就比较好了。其事万变不离其中，看一下这个补丁文件，无非也就是加入了对上面说的几个关键字的匹配。</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">4. 安装ctags。</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;&nbsp;&nbsp; # ./configure --prefix=/opt/ctags</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;&nbsp;&nbsp;&nbsp;# make &amp;&amp; make install</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">5.替换原来的ctags。</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;&nbsp;&nbsp; # cp /usr/local/bin/ctags /usr/bin</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">&nbsp;</span></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"font-size: 12px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Simsun, Helvetica, arial, sans-serif;\">方案2</span></span></span></p><hr style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"/><p><span style=\"color: rgb(51, 51, 51);\">1. $ vim ~/.ctags</span></p><p><span style=\"color: rgb(51, 51, 51);\">增加</span></p><p><span style=\"color: rgb(51, 51, 51);\">alias phptags=&#39;ctags --langmap=php:.engine.inc.module.theme.php&nbsp; --php-kinds=cdf&nbsp; --languages=php&#39;</span></p><p><span style=\"color: rgb(51, 51, 51);\">&nbsp;</span></p><p><span style=\"color: rgb(51, 51, 51);\">2. $&nbsp;vim ~/.ctags</span></p><p><span style=\"color: rgb(51, 51, 51);\">写入</span></p><p><span style=\"color: rgb(51, 51, 51);\">--regex-php=/^[ \\t]*[(private|public|static)( \\t)]*function[ \\t]+([A-Za-z0-9_]+)[ \\t]*\\(/\\1/f, function, functions/</span></p><p><span style=\"color: rgb(51, 51, 51);\">--regex-php=/^[ \\t]*[(private|public|static)]+[ \\t]+\\$([A-Za-z0-9_]+)[ \\t]*/\\1/p, property, properties/</span></p><p><span style=\"color: rgb(51, 51, 51);\">--regex-php=/^[ \\t]*(const)[ \\t]+([A-Za-z0-9_]+)[ \\t]*/\\2/d, const, constants/</span></p><p><span style=\"color: rgb(51, 51, 51);\">&nbsp;</span></p><p><span style=\"color: rgb(51, 51, 51);\">3. $ phptags -R</span></p><p><br/></p>', '1481296891', 'cuiyufei', '45', '32', '2016-12');
INSERT INTO `blog_article` VALUES ('6', 'Packagist 镜像', 'Packagist', 'Packagist 镜像', 'uploads/20161209232326519.jpg', '<p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px;\">请各位使用本镜像的同学注意：</p><p style=\"box-sizing: border-box; margin-bottom: 16px;\">本镜像已经依照 composer 官方的数据源安全策略完全升级并支持&nbsp;<span style=\"box-sizing: border-box; font-weight: 700;\">https</span>&nbsp;协议！请各位同学 按照下面所示的两个方法将&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\"><a href=\"http://packagist.phpcomposer.com/\" style=\"box-sizing: border-box; color: rgb(51, 122, 183); text-decoration: none; background-color: transparent;\">http://packagist.phpcomposer.com</a></code>&nbsp;修改为&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\"><a href=\"https://packagist.phpcomposer.com/\" style=\"box-sizing: border-box; color: rgb(51, 122, 183); text-decoration: none; background-color: transparent;\">https://packagist.phpcomposer.com</a></code></p><blockquote style=\"box-sizing: border-box; padding: 0px 15px; margin: 0px 0px 16px; font-size: 17.5px; border-left: 4px solid rgb(221, 221, 221); color: rgb(119, 119, 119); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;\">还没安装 Composer 吗？请往下看<a href=\"http://pkg.phpcomposer.com/#how-to-install-composer\" style=\"box-sizing: border-box; color: rgb(51, 122, 183); text-decoration: none; background-color: transparent;\">如何安装 Composer</a>&nbsp;。</p></blockquote><h2 style=\"box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; color: rgb(51, 51, 51); margin-top: 1em; margin-bottom: 16px; font-size: 1.75em; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238); white-space: normal; background-color: rgb(255, 255, 255);\">用法：</h2><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">有两种方式启用本镜像服务：</p><ul style=\"box-sizing: border-box; margin-bottom: 16px; padding-left: 2em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\" class=\" list-paddingleft-2\"><li><p><span style=\"box-sizing: border-box; font-weight: 700;\">系统全局配置：</span>&nbsp;即将配置信息添加到 Composer 的全局配置文件&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">config.json</code>&nbsp;中。见<a href=\"http://pkg.phpcomposer.com/#tip1\" style=\"box-sizing: border-box; color: rgb(51, 122, 183); text-decoration: none; background-color: transparent;\">“例1”</a></p></li><li><p><span style=\"box-sizing: border-box; font-weight: 700;\">单个项目配置：</span>&nbsp;将配置信息添加到某个项目的&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.json</code>&nbsp;文件中。见<a href=\"http://pkg.phpcomposer.com/#tip2\" style=\"box-sizing: border-box; color: rgb(51, 122, 183); text-decoration: none; background-color: transparent;\">“例2”</a></p></li></ul><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><a style=\"box-sizing: border-box; color: inherit; background-color: transparent;\"></a><span style=\"box-sizing: border-box; font-weight: 700;\">例1：修改 composer 的全局配置文件<span style=\"box-sizing: border-box; color: rgb(60, 118, 61);\">（推荐方式）</span></span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">打开命令行窗口（windows用户）或控制台（Linux、Mac 用户）并执行如下命令：</p><pre style=\"box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 16px; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); word-break: break-all; word-wrap: normal; border: none; border-radius: 3px; background-color: rgb(247, 247, 247);\">composer&nbsp;config&nbsp;-g&nbsp;repo.packagist&nbsp;composer&nbsp;https://packagist.phpcomposer.com</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><a style=\"box-sizing: border-box; color: inherit; background-color: transparent;\"></a><span style=\"box-sizing: border-box; font-weight: 700;\">例2：修改当前项目的&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.json</code>&nbsp;配置文件：</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">打开命令行窗口（windows用户）或控制台（Linux、Mac 用户），进入你的项目的根目录（也就是<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.json</code>&nbsp;文件所在目录），执行如下命令：</p><pre style=\"box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 16px; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); word-break: break-all; word-wrap: normal; border: none; border-radius: 3px; background-color: rgb(247, 247, 247);\">composer&nbsp;config&nbsp;repo.packagist&nbsp;composer&nbsp;https://packagist.phpcomposer.com</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">上述命令将会在当前项目中的&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.json</code>&nbsp;文件的末尾自动添加镜像的配置信息（你也可以自己手工添加）：</p><pre style=\"box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 16px; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); word-break: break-all; word-wrap: normal; border: none; border-radius: 3px; background-color: rgb(247, 247, 247);\">&quot;repositories&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;packagist&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;composer&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;url&quot;:&nbsp;&quot;https://packagist.phpcomposer.com&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}}</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">以 laravel 项目的&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.json</code>&nbsp;配置文件为例，执行上述命令后如下所示（注意最后几行）：</p><pre style=\"box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 16px; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); word-break: break-all; word-wrap: normal; border: none; border-radius: 3px; background-color: rgb(247, 247, 247);\">{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;:&nbsp;&quot;laravel/laravel&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;description&quot;:&nbsp;&quot;The&nbsp;Laravel&nbsp;Framework.&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;keywords&quot;:&nbsp;[&quot;framework&quot;,&nbsp;&quot;laravel&quot;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;license&quot;:&nbsp;&quot;MIT&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;project&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;require&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;php&quot;:&nbsp;&quot;&gt;=5.5.9&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;laravel/framework&quot;:&nbsp;&quot;5.2.*&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;require-dev&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;fzaninotto/faker&quot;:&nbsp;&quot;~1.4&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mockery/mockery&quot;:&nbsp;&quot;0.9.*&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;phpunit/phpunit&quot;:&nbsp;&quot;~4.0&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;symfony/css-selector&quot;:&nbsp;&quot;2.8.*|3.0.*&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;symfony/dom-crawler&quot;:&nbsp;&quot;2.8.*|3.0.*&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;autoload&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;classmap&quot;:&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;database&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;psr-4&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;App\\\\&quot;:&nbsp;&quot;app/&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;autoload-dev&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;classmap&quot;:&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;tests/TestCase.php&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;scripts&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;post-root-package-install&quot;:&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;php&nbsp;-r&nbsp;\\&quot;copy(&#39;.env.example&#39;,&nbsp;&#39;.env&#39;);\\&quot;&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;post-create-project-cmd&quot;:&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;php&nbsp;artisan&nbsp;key:generate&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;post-install-cmd&quot;:&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;php&nbsp;artisan&nbsp;clear-compiled&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;php&nbsp;artisan&nbsp;optimize&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;pre-update-cmd&quot;:&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;php&nbsp;artisan&nbsp;clear-compiled&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;post-update-cmd&quot;:&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;php&nbsp;artisan&nbsp;optimize&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;config&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;preferred-install&quot;:&nbsp;&quot;dist&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;repositories&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;packagist&quot;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;composer&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;url&quot;:&nbsp;&quot;https://packagist.phpcomposer.com&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;}}</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">OK，一切搞定！试一下&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer install</code>&nbsp;来体验飞一般的速度吧！</p><h2 style=\"box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; color: rgb(51, 51, 51); margin-top: 1em; margin-bottom: 16px; font-size: 1.75em; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238); white-space: normal; background-color: rgb(255, 255, 255);\">镜像说明：</h2><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">一般情况下，安装包的数据（主要是 zip 文件）一般是从&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">github.com</code>&nbsp;上下载的，安装包的元数据是从<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">packagist.org</code>&nbsp;上下载的。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">然而，由于众所周知的原因，国外的网站连接速度很慢，并且随时可能被“墙”甚至“不存在”。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">“Packagist 中国全量镜像”所做的就是缓存所有安装包和元数据到国内的机房并通过国内的 CDN 进行加速，这样就不必再去向国外的网站发起请求，从而达到加速&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer install</code>&nbsp;以及&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer update</code>&nbsp;的过程，并且更加快速、稳定。因此，即使&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">packagist.org</code>、<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">github.com</code>&nbsp;发生故障（主要是连接速度太慢和被墙），你仍然可以下载、更新安装包。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><a style=\"box-sizing: border-box; color: inherit; background-color: transparent;\"></a></p><h1 style=\"box-sizing: border-box; margin: 1em 0px 16px; font-size: 2.25em; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; color: rgb(51, 51, 51); padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238); white-space: normal; background-color: rgb(255, 255, 255);\">如何安装 Composer</h1><blockquote style=\"box-sizing: border-box; padding: 0px 15px; margin: 0px 0px 16px; font-size: 17.5px; border-left: 4px solid rgb(221, 221, 221); color: rgb(119, 119, 119); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;\">安装前请务必确保已经正确安装了&nbsp;<a href=\"http://php.net/\" style=\"box-sizing: border-box; color: rgb(51, 122, 183); text-decoration: none; background-color: transparent;\">PHP</a>。打开命令行窗口并执行&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.875px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">php -v</code>&nbsp;查看是否正确输出版本号。</p></blockquote><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">打开命令行并执行下列命令安装最新版本的 Composer (以下指令摘自&nbsp;<a href=\"https://getcomposer.org/download/\" style=\"box-sizing: border-box; color: rgb(51, 122, 183); text-decoration: none; background-color: transparent;\">https://getcomposer.org/download/</a>，请前往查看最新的安装指令)：</p><pre style=\"box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 16px; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); word-break: break-all; word-wrap: normal; border: none; border-radius: 3px; background-color: rgb(247, 247, 247);\">php&nbsp;-r&nbsp;&quot;readfile(&#39;https://getcomposer.org/installer&#39;);&quot;&nbsp;&gt;&nbsp;composer-setup.php\r\n\r\nphp&nbsp;composer-setup.php\r\n\r\nphp&nbsp;-r&nbsp;&quot;unlink(&#39;composer-setup.php&#39;);&quot;</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">执行第一条命令下载下来的&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer-setup.php</code>&nbsp;脚本将简单的检测&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">php.ini</code>&nbsp;中的参数设置，如果某些参数未正确设置则会给出警告；然后下载最新版本的&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.phar</code>&nbsp;文件到当前目录。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">上述 3 条命令的作用依次是：</p><ol style=\"box-sizing: border-box; margin-bottom: 16px; padding-left: 2em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\" class=\" list-paddingleft-2\"><li><p>下载安装脚本（<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer-setup.php</code>）到当前目录。</p></li><li><p>执行安装过程。</p></li><li><p>删除安装脚本 --&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer-setup.php</code>&nbsp;。</p></li></ol><h2 style=\"box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; color: rgb(51, 51, 51); margin-top: 1em; margin-bottom: 16px; font-size: 1.75em; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238); white-space: normal; background-color: rgb(255, 255, 255);\">局部安装</h2><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">上述下载 Composer 的过程正确执行完毕后，可以将&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.phar</code>&nbsp;文件复制到任意目录（比如项目根目录下），然后通过&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">php composer.phar</code>&nbsp;指令即可使用 Composer 了！</p><h2 style=\"box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; color: rgb(51, 51, 51); margin-top: 1em; margin-bottom: 16px; font-size: 1.75em; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238); white-space: normal; background-color: rgb(255, 255, 255);\">全局安装</h2><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">全局安装是将 Composer 安装到系统环境变量&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">PATH</code>&nbsp;所包含的路径下面，然后就能够在命令行窗口中直接执行&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer</code>&nbsp;命令了。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-weight: 700;\">Mac 或 Linux 系统</span>：打开命令行窗口并执行如下命令将前面下载的&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.phar</code>&nbsp;文件移动到<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">/usr/local/bin/</code>&nbsp;目录下面：</p><pre style=\"box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 16px; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); word-break: break-all; word-wrap: normal; border: none; border-radius: 3px; background-color: rgb(247, 247, 247);\">sudo&nbsp;mv&nbsp;composer.phar&nbsp;/usr/local/bin/composer</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-weight: 700;\">Windows 系统</span>：</p><ol style=\"box-sizing: border-box; margin-bottom: 16px; padding-left: 2em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\" class=\" list-paddingleft-2\"><li><p>找到并进入 PHP 的安装目录（和你在命令行中执行的&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">php</code>&nbsp;指令应该是同一套 PHP）。</p></li><li><p>将&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.phar</code>&nbsp;复制到 PHP 的安装目录下面，也就是和&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">php.exe</code>&nbsp;在同一级目录。</p></li><li><p>在 PHP 安装目录下新建一个&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer.bat</code>&nbsp;文件，并将下列代码保存到此文件中。</p></li></ol><pre style=\"box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 16px; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); word-break: break-all; word-wrap: normal; border: none; border-radius: 3px; background-color: rgb(247, 247, 247);\">@php&nbsp;&quot;%~dp0composer.phar&quot;&nbsp;%*</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">最后重新打开一个命令行窗口试一试执行&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.6px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer --version</code>&nbsp;看看是否正确输出版本号。</p><h2 style=\"box-sizing: border-box; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Lucida Grande&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; color: rgb(51, 51, 51); margin-top: 1em; margin-bottom: 16px; font-size: 1.75em; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238); white-space: normal; background-color: rgb(255, 255, 255);\">最后</h2><p>提示：不要忘了经常执行&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.875px; padding: 0.2em 0px; color: rgb(199, 37, 78); border-radius: 3px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);\">composer selfupdate</code>&nbsp;以保持 Composer 一直是最新版本哦！</p><p><br/></p>', '1481296947', 'cuiyufei', '67', '32', '2016-12');
INSERT INTO `blog_article` VALUES ('7', 'shell中判断一个变量是否为空', 'shell', 'shell中判断一个变量是否为空', 'uploads/20161209232326519.jpg', '<p>var=$1</p><p>if [ &quot;X${var}&quot; = &quot;X&quot; ]</p><p>then</p><p>&nbsp; &nbsp; echo &quot;var is null&quot;</p><p>else</p><p>&nbsp; &nbsp; echo &quot;var is not null&quot;</p><p>fi</p><p><strong>将数据导入到文件中</strong></p><p>echo &quot;dddddddddddd&quot; &gt;&gt; test.txt</p><p><strong>获取当前时间</strong></p><p>echo &quot;`date &#39;+%Y-%m-%d %H:%M:%S&#39;`&quot;</p><p><strong style=\"margin: 0px; padding: 0px; border: 0px; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; vertical-align: baseline; white-space: normal; background-color: rgb(255, 255, 255);\">Bash 获取当前函数名</strong></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; border: 0px; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; vertical-align: baseline; color: rgb(68, 68, 68); white-space: normal; background-color: rgb(255, 255, 255);\">在C/C++中，__FUNCTION__常量记录当前函数的名称。有时候，在日志输出的时候包含这些信息是非常有用的。而在Bash中，同样有这样一个常量FUNCNAME，但是有一点区别是，它是一个数组而非字符串，其中数组的第一个元素为当前函数的名称。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; border: 0px; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; vertical-align: baseline; color: rgb(68, 68, 68); white-space: normal; background-color: rgb(255, 255, 255);\">可能初看有点难以理解，为什么FUNCNAME要是一个数组呢？看看下面的例子，你就明白了。</p><pre style=\"margin-top: 15px; margin-bottom: 15px; padding: 8px; border: 1px solid rgb(225, 225, 232); font-family: &quot;Lucida Sans Typewriter&quot;, Monaco, &quot;Courier New&quot;, monospace; font-size: 12px; vertical-align: baseline; background-color: rgb(247, 247, 249); word-break: break-word;\">#!/bin/bashfunction&nbsp;test_func(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;Current&nbsp;$FUNCNAME,&nbsp;\\$FUNCNAME&nbsp;=&gt;&nbsp;(${FUNCNAME[@]})&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;another_func\r\n&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;Current&nbsp;$FUNCNAME,&nbsp;\\$FUNCNAME&nbsp;=&gt;&nbsp;(${FUNCNAME[@]})&quot;}function&nbsp;another_func(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;Current&nbsp;$FUNCNAME,&nbsp;\\$FUNCNAME&nbsp;=&gt;&nbsp;(${FUNCNAME[@]})&quot;}echo&nbsp;&quot;Out&nbsp;of&nbsp;function,&nbsp;\\$FUNCNAME&nbsp;=&gt;&nbsp;(${FUNCNAME[@]})&quot;test_func\r\necho&nbsp;&quot;Out&nbsp;of&nbsp;function,&nbsp;\\$FUNCNAME&nbsp;=&gt;&nbsp;(${FUNCNAME[@]})&quot;</pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; border: 0px; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; vertical-align: baseline; color: rgb(68, 68, 68); white-space: normal; background-color: rgb(255, 255, 255);\">执行后的结果为：</p><pre style=\"margin-top: 15px; margin-bottom: 15px; padding: 8px; border: 1px solid rgb(225, 225, 232); font-family: &quot;Lucida Sans Typewriter&quot;, Monaco, &quot;Courier New&quot;, monospace; font-size: 12px; vertical-align: baseline; background-color: rgb(247, 247, 249); word-break: break-word;\">Out&nbsp;of&nbsp;function,&nbsp;$FUNCNAME&nbsp;=&gt;&nbsp;()Current&nbsp;test_func,&nbsp;$FUNCNAME&nbsp;=&gt;&nbsp;(test_func&nbsp;main)Current&nbsp;another_func,&nbsp;$FUNCNAME&nbsp;=&gt;&nbsp;(another_func&nbsp;test_func&nbsp;main)Current&nbsp;test_func,&nbsp;$FUNCNAME&nbsp;=&gt;&nbsp;(test_func&nbsp;main)Out&nbsp;of&nbsp;function,&nbsp;$FUNCNAME&nbsp;=&gt;&nbsp;()</pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; border: 0px; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; vertical-align: baseline; color: rgb(68, 68, 68); white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; vertical-align: baseline;\"></span>所以，更加准确地说，FUNCNAME是一个数组，但是bash中会将它维护成类似一个堆栈的形式。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; border: 0px; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; vertical-align: baseline; color: rgb(68, 68, 68); white-space: normal; background-color: rgb(255, 255, 255);\">与FUNCNAME相似的另外一个比较有用的常量是BASH_SOURCE，同样是一个数组，不过它的第一个元素是当前脚本的名称。<br/>这在source的时候非常有用，因为在被source的脚本中，$0是父脚本的名称，而不是被source的脚本名称。而BASH_SOURCE<br/>就可以派上用场了。</p><pre style=\"margin-top: 15px; margin-bottom: 15px; padding: 8px; border: 1px solid rgb(225, 225, 232); font-family: &quot;Lucida Sans Typewriter&quot;, Monaco, &quot;Courier New&quot;, monospace; font-size: 12px; vertical-align: baseline; background-color: rgb(247, 247, 249); word-break: break-word;\">#&nbsp;If&nbsp;the&nbsp;script&nbsp;is&nbsp;sourced&nbsp;by&nbsp;another&nbsp;scriptif&nbsp;[&nbsp;-n&nbsp;&quot;$BASH_SOURCE&quot;&nbsp;-a&nbsp;&quot;$BASH_SOURCE&quot;&nbsp;!=&nbsp;&quot;$0&quot;&nbsp;]then\r\n&nbsp;&nbsp;&nbsp;&nbsp;do_somethingelse&nbsp;#&nbsp;Otherwise,&nbsp;run&nbsp;directly&nbsp;in&nbsp;the&nbsp;shell\r\n&nbsp;&nbsp;&nbsp;&nbsp;do_otherfi</pre><p>唯一遗憾的是，这种做法会让脚本失去一些可移植性，因为不是所有的shell都支持这些常量。</p><p><br/></p>', '1481297009', 'cuiyufei', '8', '32', '2016-12');
INSERT INTO `blog_article` VALUES ('8', 'ssh自动登录', 'ssh', 'ssh自动登录', 'uploads/20161209232326519.jpg', '<p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\"><strong>1. 自动ssh/scp方法</strong></p><p>如果仅仅是日常使用，为了避免经常输入主机密码的麻烦，最理想的方法是生产本机的公/私密钥对，把指纹直接复制到远程主机上，较新的openssh提供了ssh-copy-id工具：</p><p><span style=\"color: rgb(255, 0, 0);\">ssh-keygen</span></p><p><span style=\"color: rgb(255, 0, 0);\">ssh-copy-id ubuntu@123.207.167.223</span></p><p><span style=\"color: rgb(255, 0, 0);\">ssh-copy-id user@host2</span></p><p><span style=\"color: rgb(255, 0, 0);\">ssh-copy-id user@host3</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\"><strong>2. 控制n个机器如上所述自动登录</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">那就需要n对钥匙(密钥和公钥), ssh-keygen 命令可以随意更改钥匙对的名字, 比如:<br/># ssh-keygen -t rsa<br/>Generating public/private rsa key pair.<br/>Enter file in which to save the key (/root/.ssh/id_rsa): /root/.ssh/id_rsa_192.168.60.110</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">这样私钥和公钥的名字分别就是: id_rsa_192.168.60.110和 id_rsa_192.168.60.110.pub;然后将 id_rsa_192.168.60.110.pub 文件的内容, 追加到sever的 ~/.ssh/authorized_keys文件中,最后, 在本地用ssh命令的 -i 参数指定本地密钥, 并登录:<br/># ssh -i /root/.ssh/id_rsa_192.168.60.110 someone@192.168.60.110</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">scp也是一样的<br/># scp -i /root/.ssh/id_rsa_192.168.60.110 filename someone@192.168.60.110:/home/someone</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">在文件.bashrc中加下两行，每次做同样的操作就不用敲入这样长的命令了：<br/>alias sshcell=&#39;ssh -i /root/.ssh/id_rsa_192.168.60.110 someone@192.168.60.110&#39;<br/>alias scpcell=&#39;scp -i /root/.ssh/id_rsa_192.168.60.110 filename someone@192.168.60.110:/home/someone&#39;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">这样，直接键入一下指令实现ssh和scp自动登录：<br/># sshcell<br/># scpcell</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\"><strong>3. 自动ssh/scp脚本</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">如果需要从A，到B，然后才能够到C，那么需要ssh和scp两次，是比较麻烦的。<br/>ssh自动登录：<br/>#!/usr/bin/expect -f<br/>set timeout 30<br/>spawn ssh weiqiong@B<br/>expect &quot;password:&quot;<br/>send &quot;ppppppr&quot;<br/>expect &quot;]*&quot;<br/>send &quot;ssh weiqiong@Cr&quot;<br/>expect &quot;password:&quot;<br/>send &quot;ppppppr&quot;<br/>interact</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">scp从A拷贝文件到C：<br/>#!/usr/bin/expect -f<br/>set timeout 300<br/>set file [lindex $argv 0]<br/>spawn scp $file weiqiong@B:/home/weiqiong<br/>expect &quot;password:&quot;<br/>send &quot;ppppppr&quot;<br/>expect &quot;]*&quot;<br/>spawn ssh weiqiong@B<br/>expect &quot;password:&quot;<br/>send &quot;ppppppr&quot;<br/>expect &quot;]*&quot;<br/>send &quot;scp $file weiqiong@C:/home/weiqiongr&quot;<br/>expect &quot;password:&quot;<br/>send &quot;ppppppr&quot;<br/>expect &quot;]*&quot;<br/>exit<br/>interact</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">scp从C拷贝文件到A：<br/>#!/usr/bin/expect -f<br/>set timeout 300<br/>set file [lindex $argv 0]<br/>spawn ssh weiqiong@B<br/>expect &quot;password:&quot;<br/>send &quot;ppppppr&quot;<br/>expect &quot;]*&quot;<br/>send &quot;scp weiqiong@C:/home/weiqiong/$file .r&quot;<br/>expect &quot;password:&quot;<br/>send &quot;ppppppr&quot;<br/>expect &quot;]*&quot;<br/>send &quot;exitr&quot;<br/>expect &quot;]*&quot;<br/>spawn scp weiqiong@B:/home/weiqiong/$file .<br/>expect &quot;password:&quot;<br/>send &quot;ppppppr&quot;<br/>interact</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\"><strong>4. 建立ssh/scp通道</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">比如说我的机器是A，中间服务器为B，目标服务器是C<br/>从A可以ssh到B，从B可以ssh到C，但是A不能直接ssh到C<br/>现在展示利用ssh通道技术从A直接传输文件到C</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; widows: 1; background-color: rgb(255, 255, 255);\">1. ssh -L1234:C:22 userid@B<br/>input B&#39;s password<br/>(1234是本机A的空闲端口，该指令需要A机器上的root用户权限，实际上是在本机1234端口建立了一个通道)</p><p>2. 打开一个新的console，键入：<br/>scp -P1234 filename userid@localhost:</p><p>input C&#39;s password</p><p>#!/usr/bin/expect</p><p>spawn /usr/bin/ssh root@10.99.0.245</p><p>expect &quot;*password:&quot;</p><p>send &quot;123456\\r&quot;</p><p>expect &quot;*]#&quot;</p><p>send &quot;cd /root&quot;</p><p>expect &quot;*]#&quot;</p><p>send &quot;exit\\r&quot;</p><p>expect eof</p><p><br/></p>', '1481297065', 'cuiyufei', '15', '32', '2016-12');
INSERT INTO `blog_article` VALUES ('9', '参数处理-Shell传入参数的处理', 'Shell', '参数处理-Shell传入参数的处理', 'uploads/20161209232326519.jpg', '<p>1. $# 传递到脚本的参数个数<br/>2. $* 以一个单字符串显示所有向脚本传递的参数。与位置变量不同，此选项参数可超过9个<br/>3. $$ 脚本运行的当前进程ID号<br/>4. $! 后台运行的最后一个进程的进程ID号<br/>5. $@ 与$#相同，但是使用时加引号，并在引号中返回每个参数<br/>6. $- 显示shell使用的当前选项，与set命令功能相同<br/>7. $? 显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。<br/>变量 含义&nbsp;<br/>$0 脚本名字&nbsp;<br/>$1 位置参数 #1&nbsp;<br/>$2 - $9 位置参数 #2 - #9&nbsp;<br/>${10} 位置参数 #10&nbsp;<br/>$# 位置参数的个数&nbsp;<br/>&quot;$*&quot; 所有的位置参数(作为单个字符串) *&nbsp;<br/>&quot;$@&quot; 所有的位置参数(每个都作为独立的字符串)&nbsp;<br/>${#*} 传递到脚本中的命令行参数的个数&nbsp;<br/>${#@} 传递到脚本中的命令行参数的个数&nbsp;<br/>$? 返回值&nbsp;<br/>$$ 脚本的进程ID(PID)&nbsp;<br/>$- 传递到脚本中的标志(使用set)&nbsp;<br/>$_ 之前命令的最后一个参数&nbsp;</p><p>$! 运行在后台的最后一个作业的进程ID(PID)</p><p>使用shell处理的时候对参数的处理是个基本模块，所以今天找到一篇简单易懂的文章来进行参考，作为以后shell参数处理的模板，推荐使用getOpts形式进行参数的处理。</p><p><br/></p><p>0.引言</p><p>&nbsp; 写程序的时候经常要处理命令行参数，本文描述在Bash下的命令行处理方式。</p><p>&nbsp; 选项与参数：</p><p>&nbsp; 如下一个命令行：</p><p>&nbsp; ./test.sh -f config.conf -v --prefix=/home</p><p>&nbsp; 我们称-f为选项，它需要一个参数，即config.conf, -v 也是一个选项，但它不需要参数。</p><p>&nbsp; --prefix我们称之为一个长选项，即选项本身多于一个字符，它也需要一个参数，用等号连接，当然等号不是必须的，/home可以直接写在--prefix后面，即--prefix/home,更多的限制后面具体会讲到。</p><p>在bash中，可以用以下三种方式来处理命令行参数，每种方式都有自己的应用场景。</p><p>在bash中，可以用以下三种方式来处理命令行参数，每种方式都有自己的应用场景。</p><p>&nbsp;&nbsp;&nbsp; * 手工处理方式<br/>&nbsp;&nbsp;&nbsp; * getopts</p><p>&nbsp;&nbsp;&nbsp; * getopt</p><p>下面我们依次讨论这三种处理方式。</p><p>1. 手工处理方式</p><p>&nbsp;&nbsp; 在手工处理方式中，首先要知道几个变量，还是以上面的命令行为例：</p><p>&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp; $0 ： ./test.sh,即命令本身，相当于C/C++中的argv[0]<br/>&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp; $1 ： -f,第一个参数.<br/>&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp; $2 ： config.conf<br/>&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp; $3, $4 ... ：类推。<br/>&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp; $# 参数的个数，不包括命令本身，上例中$#为4.<br/>&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp; $@ ：参数本身的列表，也不包括命令本身，如上例为 -f config.conf -v --prefix=/home</p><p>&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp; $* ：和$@相同，但&quot;$*&quot; 和 &quot;$@&quot;(加引号)并不同，&quot;$*&quot;将所有的参数解释成一个字符串，而&quot;$@&quot;是一个参数数组。如下例所示：</p><p>1 #!/bin/bash<br/>2&nbsp;<br/>3 for arg in &quot;$*&quot;<br/>4 do<br/>5&nbsp;&nbsp;&nbsp;&nbsp; echo $arg<br/>6 done<br/>7&nbsp;<br/>8 for arg in &quot;$@&quot;<br/>9 do<br/>10&nbsp;&nbsp;&nbsp;&nbsp; echo $arg<br/>11 done<br/>12</p><p>执行./test.sh -f config.conf -n 10 会打印：</p><p>-f config.conf -n 10&nbsp;&nbsp;&nbsp; #这是&quot;$*&quot;的输出</p><p>-f&nbsp;&nbsp; #以下为$@的输出</p><p>config.conf</p><p>-n</p><p>10</p><p>所以，手工处理的方式即对这些变量的处理。因为手工处理高度依赖于你在命令行上所传参数的位置，所以一般都只用来处理较简单的参数。如</p><p>&nbsp;&nbsp; ./test.sh 10</p><p>&nbsp;&nbsp; 而很少使用./test -n 10这种带选项的方式。 典型用法为：</p><p>#!/bin/bash</p><p>if [ x$1 != x ]<br/>then<br/>&nbsp;&nbsp;&nbsp; #...有参数<br/>else<br/>then<br/>&nbsp;&nbsp;&nbsp; #...没有参数<br/>fi</p><p><br/>为什么要使用 x$1 != x 这种方式来比较呢？想像一下这种方式比较：</p><p><br/>if [ -n $1 ] #$1不为空</p><p>但如果用户不传参数的时候，$1为空，这时 就会变成 [ -n ] ,所以需要加一个辅助字符串来进行比较。</p><p>手工处理方式能满足大多数的简单需求，配合shift使用也能构造出强大的功能，但在要处理复杂选项的时候建议用下面的两种方法。</p><p>2. getopts/getopt</p><p>处理命令行参数是一个相似而又复杂的事情，为此，C提供了getopt/getopt_long等函数，<br/>C++的boost提供了Options库，在shell中，处理此事的是getopts和getopt.</p><p>getopts和getopt功能相似但又不完全相同，其中getopt是独立的可执行文件，而getopts是由Bash内置的。</p><p>先来看看参数传递的典型用法:</p><p>&nbsp;&nbsp;&nbsp; * ./test.sh -a -b -c ： 短选项，各选项不需参数<br/>&nbsp;&nbsp;&nbsp; * ./test.sh -abc&nbsp;&nbsp; ： 短选项，和上一种方法的效果一样，只是将所有的选项写在一起。<br/>&nbsp;&nbsp;&nbsp; * ./test.sh -a args -b -c ：短选项，其中-a需要参数，而-b -c不需参数。<br/>&nbsp;&nbsp;&nbsp; * ./test.sh --a-long=args --b-long ：长选项</p><p>我们先来看getopts,它不支持长选项。</p><p>使用getopts非常简单：<br/>代码</p><p><br/>#test.sh</p><p>#!/bin/bash</p><p>while getopts &quot;a:bc&quot; arg #选项后面的冒号表示该选项需要参数<br/>do<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case $arg in<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;a&#39;s arg:$OPTARG&quot; #参数存在$OPTARG中<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;b&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;c&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ?) #当有不认识的选项的时候arg为?<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;unkonw argument&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit 1<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; esac<br/>done</p><p><br/>现在就可以使用：<br/>./test.sh -a arg -b -c&nbsp;<br/>或<br/>./test.sh -a arg -bc<br/>来加载了。</p><p>应该说绝大多数脚本使用该函数就可以了，如果需要支持长选项以及可选参数，那么就需要使用getopt.</p><p>面是getopt自带的一个例子：</p><p><br/>#!/bin/bash</p><p># A small example program for using the new getopt(1) program.<br/># This program will only work with bash(1)<br/># An similar program using the tcsh(1) script language can be found<br/># as parse.tcsh</p><p># Example input and output (from the bash prompt):<br/># ./parse.bash -a par1 &#39;another arg&#39; --c-long &#39;wow!*/?&#39; -cmore -b &quot; very long &quot;<br/># Option a<br/># Option c, no argument<br/># Option c, argument `more&#39;<br/># Option b, argument ` very long &#39;<br/># Remaining arguments:<br/># --&gt; `par1&#39;<br/># --&gt; `another arg&#39;<br/># --&gt; `wow!*/?&#39;</p><p># Note that we use `&quot;$@&quot;&#39;&nbsp;to let each command-line parameter expand to a<br/># separate word. The quotes around&nbsp;`$@&#39;&nbsp;are essential!<br/># We need TEMP as the `eval set --&#39; would nuke the return value of getopt.</p><p>#-o表示短选项，两个冒号表示该选项有一个可选参数，可选参数必须紧贴选项<br/>#如-carg 而不能是-c arg<br/>#--long表示长选项<br/>#&quot;$@&quot;在上面解释过<br/># -n:出错时的信息<br/># -- ：举一个例子比较好理解：<br/>#我们要创建一个名字为 &quot;-f&quot;的目录你会怎么办？<br/># mkdir -f #不成功，因为-f会被mkdir当作选项来解析，这时就可以使用<br/># mkdir -- -f 这样-f就不会被作为选项。</p><p>TEMP=`getopt -o ab:c:: --long a-long,b-long:,c-long:: /<br/>&nbsp;&nbsp;&nbsp;&nbsp; -n &#39;example.bash&#39; -- &quot;$@&quot;`</p><p>if [ $? != 0 ] ; then echo &quot;Terminating...&quot; &gt;&amp;2 ; exit 1 ; fi</p><p># Note the quotes around `$TEMP&#39;: they are essential!<br/>#set 会重新排列参数的顺序，也就是改变$1,$2...$n的值，这些值在getopt中重新排列过了<br/>eval set -- &quot;$TEMP&quot;</p><p>#经过getopt的处理，下面处理具体选项。</p><p>while true ; do<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case &quot;$1&quot; in<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a|--a-long) echo &quot;Option a&quot; ; shift ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -b|--b-long) echo &quot;Option b, argument /`$2&#39;&quot; ; shift 2 ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -c|--c-long)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # c has an optional argument. As we are in quoted mode,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # an empty parameter will be generated if its optional<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # argument is not found.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case &quot;$2&quot; in<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;&quot;) echo &quot;Option c, no argument&quot;; shift 2 ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *) echo &quot;Option c, argument /`$2&#39;&quot; ; shift 2 ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; esac ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --) shift ; break ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *) echo &quot;Internal error!&quot; ; exit 1 ;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; esac<br/>done<br/>echo &quot;Remaining arguments:&quot;<br/>for arg do<br/>&nbsp;&nbsp; echo &#39;--&gt; &#39;&quot;/`$arg&#39;&quot; ;<br/>done</p><p><br/>比如我们使用<br/>./test -a -b arg arg1 -c&nbsp;<br/>你可以看到,命令行中多了个arg1参数，在经过getopt和set之后，命令行会变为：<br/>-a -b arg -c -- arg1</p><p>$1指向-a,$2指向-b,$3指向arg,$4指向-c,$5指向--,而多出的arg1则被放到了最后。</p><p>3.总结<br/>一般小脚本手工处理也许就够了，getopts能处理绝大多数的情况，getopt较复杂，功能也更强大。</p><p>******************************************************************************************************************************</p><p>shift其实很简单的，就是左移参数列表，shift一次就将最左边的参数$1移出去了，然后&nbsp;<br/>原来的$2现在就变成了$1。</p><p>shift后面还可以带上一个数字，指明要移出多少个参数（默认只移出一个），比如说&nbsp;<br/>shift 3 就是移出3个参数，之后原来的$4就变成了现在的$1。</p><p>eval就是先将后面的参数执行一遍，将必要的置换都做了，再来执行命令。举个例子：&nbsp;<br/>MYFILE=&quot;cat myfile&quot;&nbsp;<br/>echo $MYFILE&nbsp;&nbsp; # output: cat myfile&nbsp;<br/>eval $MYFILE&nbsp;&nbsp; # output: contents of myfile</p><p>再举个详细点儿的例子：&nbsp;<br/>#!/bin/bash&nbsp;<br/># evalit&nbsp;<br/>echo &quot; Total number of arguments passed: $#&quot;&nbsp;<br/>echo &quot; The process ID: $$&quot;&nbsp;<br/>echo &quot; Last argument: &quot; $(eval echo /$$#)&nbsp;<br/>运行脚本：&nbsp;<br/>$ ./evalit alpha bravo charlie&nbsp;<br/>output as follows:&nbsp;<br/>Total number of arguments passed: 3&nbsp;<br/>The process ID: 780&nbsp;<br/>Last argument:&nbsp;&nbsp; charlie</p><p>读取文件<br/>for i in `cat abc.txt`<br/>do<br/>echo $i</p><p>done</p><p><br/></p>', '1481297119', 'cuiyufei', '8', '32', '2016-12');
INSERT INTO `blog_article` VALUES ('10', 'django', 'django', 'django', 'uploads/20161209232326519.jpg', '<p>本人从django的官网上下载django的源码。官网地址：<a shape=\"rect\" href=\"https://www.djangoproject.com/\" target=\"_blank\" rel=\"nofollow\">https://www.djangoproject.com/</a><br clear=\"none\"/></p><p>下载得到的源码包为：Django-1.5.8.tar.gz</p><p>（1） 安装<br clear=\"none\"/></p><pre xml:space=\"preserve\">$&nbsp;tar&nbsp;zxf&nbsp;Django-1.10.0.tar.gz\r\n$&nbsp;cd&nbsp;Django-1.10.0\r\n$&nbsp;sudo&nbsp;python&nbsp;setup.py&nbsp;install</pre><p>安装完成后</p><pre xml:space=\"preserve\"><code>$&nbsp;which&nbsp;django-admin.py\r\n/usr/local/bin/django-admin.py<br clear=\"none\"/><br clear=\"none\"/>创建工程<br clear=\"none\"/>cyf@cyf-K55DR:~/workspace/blog$ django-admin.py startproject myblog<br clear=\"none\"/>工作目录结构<br clear=\"none\"/>myblog/<br clear=\"none\"/>├── manage.py<br clear=\"none\"/>└── myblog<br clear=\"none\"/> &nbsp; &nbsp;├── __init__.py<br clear=\"none\"/> &nbsp; &nbsp;├── settings.py<br clear=\"none\"/> &nbsp; &nbsp;├── urls.py<br clear=\"none\"/> &nbsp; &nbsp;└── wsgi.py<br clear=\"none\"/><br clear=\"none\"/>1 directory, 5 files<br clear=\"none\"/>manage.py ----- Django项目里面的工具，通过它可以调用django shell和数据库等。<br clear=\"none\"/><br clear=\"none\"/>settings.py ---- 包含了项目的默认设置，包括数据库信息，调试标志以及其他一些工作的变量。<br clear=\"none\"/><br clear=\"none\"/>urls.py ----- 负责把URL模式映射到应用程序。<br clear=\"none\"/>在mysite目录下创建blog应用<br clear=\"none\"/>cyf@cyf-K55DR:~/workspace/blog/myblog$ python manage.py startapp blog<br clear=\"none\"/>myblog/<br clear=\"none\"/>├── blog<br clear=\"none\"/>│&nbsp;&nbsp; ├── admin.py<br clear=\"none\"/>│&nbsp;&nbsp; ├── apps.py<br clear=\"none\"/>│&nbsp;&nbsp; ├── __init__.py<br clear=\"none\"/>│&nbsp;&nbsp; ├── migrations<br clear=\"none\"/>│&nbsp;&nbsp; │&nbsp;&nbsp; └── __init__.py<br clear=\"none\"/>│&nbsp;&nbsp; ├── models.py<br clear=\"none\"/>│&nbsp;&nbsp; ├── tests.py<br clear=\"none\"/>│&nbsp;&nbsp; └── views.py<br clear=\"none\"/>├── manage.py<br clear=\"none\"/>└── myblog<br clear=\"none\"/> &nbsp; &nbsp;├── __init__.py<br clear=\"none\"/> &nbsp; &nbsp;├── __init__.pyc<br clear=\"none\"/> &nbsp; &nbsp;├── settings.py<br clear=\"none\"/> &nbsp; &nbsp;├── settings.pyc<br clear=\"none\"/> &nbsp; &nbsp;├── urls.py<br clear=\"none\"/> &nbsp; &nbsp;└── wsgi.py<br clear=\"none\"/><br clear=\"none\"/></code></pre><p><span style=\"background-color: #c0c0c0; font-size: 18pt;\"><strong>初始化admin后台数据库</strong></span><br clear=\"none\"/></p><p>python&nbsp;自带SQLite数据库，Django支持各种主流的数据库，这里为了方便推荐使用SQLite，如果使用其它数据库请在settings.py文件中设置。</p><p>切换到mysite创建数据库：1.8以后</p><p><br/></p><pre>python&nbsp;manage.py&nbsp;makemigrations\r\npython&nbsp;manage.py&nbsp;migrate</pre><p><br clear=\"none\"/></p><p><br/></p><pre>apt-get&nbsp;install&nbsp;python-mysqldb</pre><p>DATABASES = {<br clear=\"none\"/>&nbsp;&nbsp;&nbsp; &#39;default&#39;: {<br clear=\"none\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;ENGINE&#39;: &#39;django.db.backends.mysql&#39;, <br clear=\"none\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;NAME&#39;: &#39;mysql&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br clear=\"none\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;USER&#39;: &#39;root&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br clear=\"none\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;PASSWORD&#39;: &#39;fan&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br clear=\"none\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;HOST&#39;: &#39;localhost&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br clear=\"none\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#39;PORT&#39;: &#39;&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br clear=\"none\"/>&nbsp;&nbsp;&nbsp; }<br clear=\"none\"/>}</p><p><br/></p>', '1481297155', 'cuiyufei', '8', '32', '2016-12');
INSERT INTO `blog_article` VALUES ('11', 'command :\"Virtual memory exhausted:Cannot allocate memory\"', '云端Ubuntu', 'command :\"Virtual memory exhausted:Cannot allocate memory\"', 'uploads/20161209232326519.jpg', '<p>在云端ubuntu下编译程序出现了command :&quot;Virtual memory exhausted:Cannot allocate memory&quot;,我用df-h查看设备内存的时候还显示有很多啊~在网上查了一下说是虚拟内存不够，这在本地当然不会发生，因为本地有好多好多内存呢，但是亚马逊的云服务器未给你分配虚拟内存，所以可以通过自行增加虚拟内存的方法予以解决。将步骤总结了如下：</p><p>（1）用free或command free 查看系统内存使用情况（Linux下一般用command free）</p><p>从应用程序的角度来说，可用内存=系统free（ memory+buffers+cached.），如上图：971732=956856+2132+12744</p><p>swap：表示硬盘上交换分区的使用情况，此处为0</p><p>（2）确定硬盘的最佳块大小，为下面的块拷贝做准备，通过测试发现，块大小为1024个字节时拷贝速度最快</p><p>#dd if=/dev/zero bs=1024 count=1000000 of=/root/1Gb.file</p><p>#dd if=/dev/zero bs=2048 count=500000 of=/root/1Gb.file</p><p>#dd if=/dev/zero bs=4096 count=250000 of=/root/1Gb.file</p><p>#dd if=/dev/zero bs=8192 count=125000 of=/root/1Gb.file</p><p>（3）sudo dd if=/dev/zero of=/swapfile bs=1024 count=3M（bs为块大小，上一步骤已测试；count为拷贝次数。count和bs都是可调的~最终创建一个3M*1024个字节大小的文件）</p><p>（4）sudo mkswap /swapfile（把这个文件变成swap文件）</p><p>（5）sudo swapon /swapfile（启用这个swap文件）</p><p>（6）echo &quot;/swapfile swap swap sw 0 0 &gt; /etc/fstab（编辑/etc/fstab文件，使在每次开机时自动加载swap文件）</p><p>再次使用command free命令查看内存：</p><p>可以看到swap一栏里已经增加31457124个字节了~</p><p><br/></p>', '1481297197', 'cuiyufei', '11', '32', '2016-12');
INSERT INTO `blog_article` VALUES ('12', '如何挖掘Nginx日志中隐藏的金矿？', '金矿', '金矿', 'uploads/20161209232729600.jpg', '<p><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; display: inline-block; width: 32.5px; font-weight: bolder; font-size: 48px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;\"></span><span style=\"margin: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">对很多开发运维人员来说，Nginx日志文件在被删除前可能都不会看上一眼。但实际上，Nginx隐藏了相当丰富的信息，或许其中便蕴含着未知的金矿等你挖掘！</span></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">Nginx（读作Engine-X）是现在最流行的负载均衡和反向代理服务器之一。如果你是一名中小微型网站的开发运维人员，很可能像我们一样，仅Nginx每天就会产生上百M甚至数以十G的日志文件。如果没有出什么错误，在被logrotate定期分割并滚动删除以前，这些日志文件可能都不会被看上一眼。<br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">实际上，Nginx日志文件可以记录的信息相当丰富，而且格式可以定制，考虑到`$time_local`请求时间字段几乎必有，这是一个典型的基于文件的时间序列数据库。Nginx日志被删除以前，或许我们可以想想，其中是否蕴含着未知的金矿等待挖掘？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><strong style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 18px;\">请求访问分析</span></span></strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; white-space: pre-wrap;\">Nginx中的每条记录是一个单独的请求，可能是某个页面或静态资源的访问，也可能是某个API的调用。通过几条简单的命令，了解一下系统的访问压力：</span><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">// 请求总数 &nbsp; \r\n &nbsp; &nbsp;less main.log | wc -l\r\n &nbsp; &nbsp;1080577 &nbsp; &nbsp; &nbsp; \r\n &nbsp; &nbsp;// 平均每秒的请求数\r\n &nbsp; &nbsp;less main.log | awk &#39;{sec=substr($4,2,20);reqs++;reqsBySec[sec]++;} END{print reqs/length(reqsBySec)}&#39;\r\n &nbsp; &nbsp;14.0963 &nbsp; &nbsp; &nbsp; \r\n &nbsp; &nbsp;// 峰值每秒请求数\r\n &nbsp; &nbsp;less main.log | awk &#39;{sec=substr($4,2,20);requests[sec]++;} END{for(s in requests){printf(&quot;%s %s\\n&quot;, requests[s],s)}}&#39; | sort -nr | head -n 3\r\n &nbsp; &nbsp;Page Visits &nbsp;Response Size &nbsp;Time Spent/req &nbsp;Moment\r\n &nbsp; &nbsp;182 10/Apr/2016:12:53:20 &nbsp;\r\n &nbsp; &nbsp;161 10/Apr/2016:12:54:53\r\n &nbsp; &nbsp;160 10/Apr/2016:10:47:23</span></pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">请求总数、平均每秒请求数、峰值请求数，可以大体了解系统压力，作为系统扩容、性能及压力测试时的直接参考。查询特定的URL，比如下单页面，了解每天的下单状况，导出CSV格式，或使用可视化工具，更直观地了解一段时间内的请求、下单数据：</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><img x-evernote-mime=\"image/gif\" class=\"en-media\" src=\"/shard/s70/res/0f98d332-177c-4903-b8b5-8b1d8ed554ff\" width=\"550\" type=\"image/gif\" style=\"margin: 0px 10px 10px 0px; padding: 0px; height: auto !important; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border: 0px; width: auto !important; visibility: visible !important;\" hash=\"341c79a60bd127d6a1647174d966e696\"/></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">备注：本文使用awk命令处理，与Nginx日志的格式有关，如果您格式不同，请酌情修改命令。本文所用的Nginx日志格式：</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">$remote_addr - $remote_user [$time_local] &quot;$request&quot; \r\n$status &nbsp;$body_bytes_sent $request_time $upstream_response_time \r\n$upstream_addr &quot;$http_referer&quot; &quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span></pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">示例：</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">42.100.52.XX - - [10/Apr/2016:07:29:58 +0800] &quot;GET /index \r\nHTTP/1.1&quot; 200 7206 0.092 0.092 &quot;-&quot; &quot;Mozilla/5.0 (iPhone; CPU iPhone OS\r\n 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Mobile/11D257&quot; &quot;-&quot;</span></pre><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><strong style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 18px;\">流量速率分析</span></span></strong></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\">Nginx日志如果开启，除了请求时间，一般会包含响应时间、页面尺寸等字段，据此很容易计算出网络流量、速率。</span><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">等等，你可能会有疑问，上面的请求访问分析，这里的流量速率分析，按时间轴画出来，不就是监控系统干的事儿吗，何苦这么麻烦查询Nginx日志？</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">的确如此，监控系统提供了更实时、更直观的方式。而Nginx日志文件的原始数据，可以从不同维度分析，使用得当，会如大浪淘沙般，发现属于我们的金子。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">对一般网站来说，带宽是最珍贵的资源，可能一不小心，某些资源如文件、图片就占用了大量的带宽，执行命令检查一下：</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">less static.log | awk &#39;url=$7; requests[url]++;bytes[url]+=$10} \r\nEND{for(url in requests){printf(&quot;%sMB %sKB/req %s %s\\n&quot;, bytes[url] / \r\n1024 / 1024, bytes[url] /requests[url] / 1024, requests[url], url)}}&#39; | sort -nr | head -n 15</span></pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><img x-evernote-mime=\"image/jpeg\" class=\"en-media\" src=\"/shard/s70/res/c614231c-1de4-4abe-a69f-e31e049df8fe\" width=\"550\" type=\"image/jpeg\" style=\"margin: 0px 10px 10px 0px; padding: 0px; height: auto !important; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border: 0px; width: auto !important; visibility: visible !important;\" hash=\"39b4965c71fa66c1982c8bf42fb874dc\"/></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">备注：Nginx配置文件中日志格式使用了$body_sent_size，指HTTP响应体的大小，如果想查看整个响应的大小，应该使用变量$sent_size。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">不出意外，静态资源、图片类（如果还没有放CDN）占据榜首，自然也是优化的重点：是否可以再压缩，某些页面中是否可以用缩略图片代替等。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">与之相比，后台调用、API接口等通常消耗更多的CPU资源，按照一贯“先衡量、再优化”的思路，可以根据响应时间大体了解某个URL占用的CPU时间：</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">less main.log | awk &#39;{url=$7; times[url]++} END{for(url in \r\ntimes){printf(&quot;%s %s\\n&quot;, times[url], url)}}&#39; | sort -nr | more`\r\n &nbsp; &nbsp;40404 /page/a?from=index\r\n &nbsp; &nbsp;1074 /categories/food\r\n &nbsp; &nbsp;572 /api/orders/1234.json</span></pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">不对，发现一个问题：由于拥有服务号、App、PC浏览器等多种前端，并且使用不规范，URL的格式可能乱七八糟。比如`/page/a`页面，有的带有.html后缀，有的未带，有的请求路径则带有参数；分类页/categories/food带有`slug`等信息；订单、详情或个人中心的URL路径则有`ID`等标记...。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">借助sed命令，通过三个方法对URL格式进行归一化处理：去掉所有的参数；去掉`.html`及`.json`后缀；把数字替换为`*`。可以得到更准确的统计结果，：</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">less main.log | awk &#39;{print $7}&#39; |sed -re &#39;s/(.*)\\?.*/\\1/g&#39; -e \r\n&#39;s/(.*)\\..*/\\1/g&#39; -e &#39;s:/[0-9]+:/*:g&#39; | awk &#39;{requests[$1]++;time[$1]\r\n+=$2} END{for(url in requests){printf(&quot;%smin %ss/req %s %s\\n&quot;, time\r\n[url] / 60, time[url] /requests[url], requests[url], url)}}&#39; | sort -nr | head -n 50</span></pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><img x-evernote-mime=\"image/jpeg\" class=\"en-media\" src=\"/shard/s70/res/31d4eabb-9ce6-4863-8e88-e79826fda099\" width=\"550\" type=\"image/jpeg\" style=\"margin: 0px 10px 10px 0px; padding: 0px; height: auto !important; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border: 0px; width: auto !important; visibility: visible !important;\" hash=\"acced3f8cffce11abd544922d43f103f\"/></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">备注：这里使用了扩展正则表达式，GNU sed的参数为-r，BSD sed的参数为-E。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">那些累计占用了更多响应时间的请求，通常也耗用了更多的CPU时间，是性能优化重点照顾的对象。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><strong style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 18px;\">慢查询分析</span></span></strong></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; white-space: pre-wrap;\">“服务号刚推送了文章，有用户反映点开很慢”，你刚端起桌子上的水杯，就听到产品经理的大嗓门从办公室角落呼啸而来。“用户用的什么网络”，你一边问着，一边打开服务号亲自尝试一下。是用户网络环境不好，还是后台系统有了访问压力？是这一个用户慢，还是很多用户都慢？你一边脑子里在翻腾，一边又打开命令行去查看日志。</span><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">与PC浏览器相比，微信服务号在网络环境、页面渲染上有较大的掣肘，在缓存策略上也不如APP自如，有时会遇到诡异的问题。如果手里恰好有Nginx日志，能做点什么呢？</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">考虑一下MySQL数据库，可以打开慢查询功能，定期查找并优化慢查询，与此类似，Nginx日志中的响应时间，不相当于自带慢查询功能嘛。利用这一特性，我们分步进行慢查询分析：</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">第一步：是不是用户的网络状况不好？根据既往的经验，如果只有少量的请求较慢，而前后其他IP的请求都较快，通常是用户手机或网络状况不佳引起的。最简单的方法，统计慢查询所占比例：</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">less main.log | awk -v limit=2 &#39;{min=substr($4,2,17);reqs[min]\r\n++;if($11&gt;limit){slowReqs[min]++}} END{for(m in slowReqs){printf(&quot;%s\r\n %s %s%s %s\\n&quot;, m, slowReqs[m]/reqs[m] * 100, &quot;%&quot;, slowReqs[m], reqs\r\n[m])}}&#39; | more\r\n &nbsp; &nbsp;10/Apr/2016:12:51 0.367% 7 1905\r\n &nbsp; &nbsp;10/Apr/2016:12:52 0.638% 12 1882\r\n &nbsp; &nbsp;10/Apr/2016:12:53 0.548% 14 2554</span></pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">慢查询所占比例极低，再根据用户手机型号、访问时间、访问页面等信息看能否定位到指定的请求，结合前后不同用户的请求，就可以确定是否用户的网络状况不好了。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">第二步：是不是应用系统的瓶颈？对比应用服务器的返回时间($upstream_response_time字段），与Nginx服务器的处理时间($request_time字段)，先快速排查是否某一台服务器抽风。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">我们遇到过类似问题，平均响应时间90ms，还算正常，但某台服务器明显变慢，平均响应时间达到了200ms，影响了部分用户的访问体验。</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">less main.log | awk &#39;{upServer=$13;upTime=$12;if(upServer == \r\n&quot;-&quot;){upServer=&quot;Nginx&quot;};if(upTime == &quot;-&quot;){upTime=0};upTimes[upServer]\r\n+=upTime;count[upServer]++;totalCount++;} END{for(server in upTimes)\r\n{printf(&quot;%s %s%s %ss %s\\n&quot;, count[server], count[server]/totalCount * \r\n100, &quot;%&quot;, upTimes[server]/count[server], server)}}&#39; | sort -nr</span></pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">不幸，市场部此次推广活动，访问压力增大，所有服务器都在变慢，更可能是应用系统的性能达到了瓶颈。如果此时带宽都没跑满，在硬件扩容之前，考虑优化重点API、缓存、静态化策略吧，达到一个基本的要求：“优化系统，让瓶颈落到带宽上”。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">第三步：应用系统没有瓶颈，是带宽的问题？快速查看一下每秒的流量：</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">less main.log | awk &#39;{second=substr($4,2,20);bytes[second]+=$10;}\r\n END{for(s in bytes){printf(&quot;%sKB %s\\n&quot;, bytes[s]/1024, s)}}&#39; | more`\r\n &nbsp; &nbsp;1949.95KB 10/Apr/2016:12:53:15\r\n &nbsp; &nbsp;2819.1KB 10/Apr/2016:12:53:16\r\n &nbsp; &nbsp;3463.64KB 10/Apr/2016:12:53:17\r\n &nbsp; &nbsp;3419.21KB 10/Apr/2016:12:53:18\r\n &nbsp; &nbsp;2851.37KB 10/Apr/2016:12:53:19</span></pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">峰值带宽接近出口带宽最大值了，幸福的烦恼，利用前面介绍的不同URL的带宽统计，做定向优化，或者加带宽吧。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><strong style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 18px;\">还能做哪些优化？</span></span></strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\">SEO团队抱怨优化了那么久，为什么页面索引量和排名上不去。打印出不同爬虫的请求频次（$http_user_agent），或者查看某个特定的页面，最近有没有被爬虫爬过：</span><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><br/><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 14px; color: rgb(61, 167, 66);\">less main.log | egrep &#39;spider|bot&#39; | awk &#39;{name=$17;if(index\r\n($15,&quot;spider&quot;)&gt;0){name=$15};spiders[name]++} END{for(name in spiders)\r\n{printf(&quot;%s %s\\n&quot;,spiders[name], name)}}&#39; | sort -nr</span></pre><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">数据告诉我们，页面索引量上不去，不一定是某个爬虫未检索到页面，更多的是其他原因。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">市场团队要上一个新品并且做促销活动，你建议避开周一周五，因为周三周四的转化率更高：</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><img x-evernote-mime=\"image/jpeg\" class=\"en-media\" src=\"/shard/s70/res/435c620f-aeea-4ee3-aae4-ea04d913bc5c\" width=\"550\" type=\"image/jpeg\" style=\"margin: 0px 10px 10px 0px; padding: 0px; height: auto !important; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border: 0px; width: auto !important; visibility: visible !important;\" hash=\"0b608128cca2a4528d483245400ee6d5\"/></p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">周三、周四的转换率比周末高不少，可能跟平台的发货周期有关，客户周三四下单，希望周末就能收到货，开始快乐的周末。你猜测到用户的心理和期望，连数据一起交市场品团队，期待更好地改善。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">这样的例子可以有很多。事实上，上述分析限于Nginx日志，如果有系统日志，并且日志格式定义良好，可以做的事情远不止于此：这是一个时间序列数据库，可以查询IT系统的运行情况，可以分析营销活动的效果，也可以预测业务数据的趋势；这是一个比较小但够用的大数据源，运用你学会的大数据分析方法，也可以像滴滴那样，分并预测不同天气、时间段下不同地区的车辆供需，并作出优化。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\"><strong style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 18px;\">几点建议</span></span></strong></p><ol style=\"padding: 0px 0px 0px 30px; max-width: 100%; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\" class=\" list-paddingleft-2\"><li><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; box-sizing: border-box !important; word-wrap: break-word !important;\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\">规范日志格式。这是很多团队容易忽略的地方，有时候多一个空格会让日志分析的复杂度大为增加。</span><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p></li><li><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; box-sizing: border-box !important; word-wrap: break-word !important;\">无论如何，使用时间戳字段。以时间序列的方式看待日志文件，这也是很多公司把系统日志直接写入到时间序列数据库的原因；</p></li><li><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; box-sizing: border-box !important; word-wrap: break-word !important;\">如有可能，记录以下字段：用户（或者客户端）标识、单次请求标识、应用标识（如果单次请求会走到多个应用）。能够方便地查出用户链路、请求链路，是排查错误请求、分析用户行为的基础；</p></li><li><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; box-sizing: border-box !important; word-wrap: break-word !important;\">关注写的操作。就像业务建模时，需要特别关注具有时标性、状态会发生改变的模型一样，任何写的操作，都应记录到日志系统中。万一某个业务出错，不但可以通过业务模型复演，也可以通过日志系统复演。</p></li><li><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; box-sizing: border-box !important; word-wrap: break-word !important;\">规范URL格式。这一点同样容易遭到忽略，商品详情页面要不要添加&quot;?from=XXX&quot;来源参数？支付页面采用路径标记“payment/alipay”，还是参数标记“/payment?type=alipay”更合适？区别细微但影响不可忽略。</p></li></ol><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">技术团队应该像对待协议一样对待这些规范。仔细定义并严格遵守，相当于拿到了金矿的钥匙。</p><p style=\"margin-top: 15px; margin-bottom: 15px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: pre-wrap; font-family: &quot;Helvetica Neue&quot;, Arial, sans; box-sizing: border-box !important; word-wrap: break-word !important;\">还需要寻找一个合适的日志分析工具，基于Python、Go、Lua，都有免费的日志分析工具可供使用；想更轻量，准备几条常用的shell脚本，比如作者整理了一些到GitHub的这个项目上（<span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; text-decoration: underline;\">https://github.com/aqingsao/nana</span>）；或者基于ELK技术栈，把Nginx访问日志、业务日志统一存储，并通过Kibana进行不同维度的聚合分析，都是不错的办法。</p><p>或许你早就使用Nginx日志了，你是怎么使用的，有什么好的方法呢，欢迎一起交流。</p><p><br/></p>', '1481297264', 'cuiyufei', '34', '33', '2016-12');
INSERT INTO `blog_article` VALUES ('13', 'nginx的调试', 'nginx', 'nginx', 'uploads/20161209232729600.jpg', '<p>nginx的调试</p><p>ngx.print(g_cjson.encode(colResult))</p><p>ngx.exit(0)</p><p><a href=\"http://jingyan.baidu.com/article/63acb44add614761fcc17ec2.html\">http://jingyan.baidu.com/article/63acb44add614761fcc17ec2.html</a></p><p><a href=\"http://jingyan.baidu.com/article/f0e83a258519cd22e4910149.html\">http://jingyan.baidu.com/article/f0e83a258519cd22e4910149.html</a></p><p><br/></p>', '1481297291', 'cuiyufei', '12', '33', '2016-12');
INSERT INTO `blog_article` VALUES ('14', 'nginx配置多端口多域名访问', 'nginx', 'nginx', 'uploads/20161209232729600.jpg', '<p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Microsoft YaHei&quot;, 微软雅黑, Arial, &quot;Lucida Grande&quot;, Tahoma, sans-serif;\">inux 配置nginx多端口多域名</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">调了半年终于搞定，也不知道是什么问题，干！！</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><span style=\"margin: 0px; padding: 0px; border: 0px; color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;\">最后发现原因：（是.conf配件文件的格式不正确，win和linux有区别啊，安全起见还是拷贝原conf文件来改。）</span></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">1、先配置防火墙<br/>有2种方法，一种是下面这样直接命令行敲，还有是修改etc下面的文件，最后记住保存一下，重启下防火墙。<br/>开启防火墙：</p><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">/sbin/iptables&nbsp;-I&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;1010&nbsp;-j&nbsp;ACCEPT\r\n/sbin/iptables&nbsp;-I&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;80&nbsp;-j&nbsp;ACCEPT&nbsp;\r\n/sbin/iptables&nbsp;-I&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;3306&nbsp;-j&nbsp;ACCEPT&nbsp;\r\n/sbin/iptables&nbsp;-I&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;1015&nbsp;-j&nbsp;ACCEPT&nbsp;\r\n#保存\r\n/etc/rc.d/init.d/iptables&nbsp;save\r\n#重启\r\n/etc/init.d/iptables&nbsp;restart</pre><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">#查看</pre><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">vi&nbsp;/etc/sysconfig/iptables</pre><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></pre><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">2、配置域名hots，其实就是域名解析，在本地的话直接修改hots文件如：#192.168.0.38 &nbsp; &nbsp;demo38.com192.168.0.26 &nbsp; &nbsp;test80.com192.168.0.26 &nbsp; &nbsp;test1010.com192.168.0.26 &nbsp; &nbsp;app.test1010.com</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">注意，这里绑定不要加端口号，其实还是绑定的原IP，这个测试规则太垃圾！！</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">直接通过IP和端口号也是可以直接访问的，只不过绑定了不同的域名。</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">这里我做了3个测试网址3、配置nginx.conf打开配置文件,路径：vi /usr/local/nginx/conf/nginx.conf其实这里没什么东东，看他这个块server{#一堆code，就是配置内容}include vhost/*.conf;#加上这句话，意思是包含vhost/文件夹下所有.conf文件，相当于多个server{}块包含进来吧，分开写更清晰些新建vhost目录，并新建test80.conf,test1010.conf两个配置文件，这2个文件内容其实意思差不多，1个是精简版本，1个是完整版本，具体根据需要</p><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">#test80.conf文件内容：\r\nserver&nbsp;{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;80;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;test80.com;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;/home/wwwroot/default/demo;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;index.html&nbsp;index.htm;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">其实上面这种写法不好，在配置PHP时会出错，所以推荐的做法是把外面的大括号去除，即：</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">localtion/{}删除</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">server&nbsp;{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;80;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;test80.com;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;/home/wwwroot/default/demo;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;index.html&nbsp;index.htm;&nbsp;&nbsp;\r\n}</pre><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">正确配置文件在本文最后</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">#test1010.conf内容：\r\nserver&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1010;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;test1010.com;\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;index.html&nbsp;index.htm&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;/home/wwwroot/default/demo;\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#charset&nbsp;koi8-r;\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#access_log&nbsp;&nbsp;logs/host.access.log&nbsp;&nbsp;main;\r\n\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#error_page&nbsp;&nbsp;404&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/404.html;\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;redirect&nbsp;server&nbsp;error&nbsp;pages&nbsp;to&nbsp;the&nbsp;static&nbsp;page&nbsp;/50x.html\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_page&nbsp;&nbsp;&nbsp;500&nbsp;502&nbsp;503&nbsp;504&nbsp;&nbsp;/50x.html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;=&nbsp;/50x.html&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;proxy&nbsp;the&nbsp;PHP&nbsp;scripts&nbsp;to&nbsp;Apache&nbsp;listening&nbsp;on&nbsp;127.0.0.1:80\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#location&nbsp;~&nbsp;\\.php$&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;proxy_pass&nbsp;&nbsp;&nbsp;http://127.0.0.1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#}\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;pass&nbsp;the&nbsp;PHP&nbsp;scripts&nbsp;to&nbsp;FastCGI&nbsp;server&nbsp;listening&nbsp;on&nbsp;127.0.0.1:9000\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;\\.php$&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;&nbsp;127.0.0.1:9000;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#fastcgi_param&nbsp;&nbsp;SCRIPT_FILENAME&nbsp;&nbsp;/scripts$fastcgi_script_name;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_params;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;fastcgi.conf;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;deny&nbsp;access&nbsp;to&nbsp;.htaccess&nbsp;files,&nbsp;if&nbsp;Apache&#39;s&nbsp;document&nbsp;root\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;concurs&nbsp;with&nbsp;nginx&#39;s&nbsp;one\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#location&nbsp;~&nbsp;/\\.ht&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;deny&nbsp;&nbsp;all;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">server&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1010;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;app.test1010.com;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;index.html&nbsp;index.htm&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;/home/wwwroot/default2;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#charset&nbsp;koi8-r;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#access_log&nbsp;&nbsp;logs/host.access.log&nbsp;&nbsp;main;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#error_page&nbsp;&nbsp;404&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/404.html;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;redirect&nbsp;server&nbsp;error&nbsp;pages&nbsp;to&nbsp;the&nbsp;static&nbsp;page&nbsp;/50x.html\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_page&nbsp;&nbsp;&nbsp;500&nbsp;502&nbsp;503&nbsp;504&nbsp;&nbsp;/50x.html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;=&nbsp;/50x.html&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;proxy&nbsp;the&nbsp;PHP&nbsp;scripts&nbsp;to&nbsp;Apache&nbsp;listening&nbsp;on&nbsp;127.0.0.1:80\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#location&nbsp;~&nbsp;\\.php$&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;proxy_pass&nbsp;&nbsp;&nbsp;http://127.0.0.1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;pass&nbsp;the&nbsp;PHP&nbsp;scripts&nbsp;to&nbsp;FastCGI&nbsp;server&nbsp;listening&nbsp;on&nbsp;127.0.0.1:9000\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;\\.php$&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;&nbsp;127.0.0.1:9000;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#fastcgi_param&nbsp;&nbsp;SCRIPT_FILENAME&nbsp;&nbsp;/scripts$fastcgi_script_name;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_params;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;fastcgi.conf;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;deny&nbsp;access&nbsp;to&nbsp;.htaccess&nbsp;files,&nbsp;if&nbsp;Apache&#39;s&nbsp;document&nbsp;root\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;concurs&nbsp;with&nbsp;nginx&#39;s&nbsp;one\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#location&nbsp;~&nbsp;/\\.ht&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;deny&nbsp;&nbsp;all;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">正确配置文件：</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">b.1015.com.conf</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">server\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1015;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;b.1015.com;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;index.html&nbsp;index.htm&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;/home/wwwroot/default/b;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;.*\\.(php|php5)?$\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try_files&nbsp;$uri&nbsp;=404;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;unix:/tmp/php-cgi.sock;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;fcgi.conf;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/status&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stub_status&nbsp;on;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;access_log&nbsp;&nbsp;&nbsp;off;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;.*\\.(gif|jpg|jpeg|png|bmp|swf)$\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expires&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30d;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;.*\\.(js|css)?$\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expires&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12h;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;access_log&nbsp;&nbsp;/home/wwwlogs/access.log&nbsp;&nbsp;access;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">nginx.conf</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><br/></p><pre style=\"margin-top: 0px; margin-bottom: 10px; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">user&nbsp;&nbsp;www&nbsp;www;\r\n\r\nworker_processes&nbsp;1;\r\n\r\nerror_log&nbsp;&nbsp;/home/wwwlogs/nginx_error.log&nbsp;&nbsp;crit;\r\n\r\npid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/nginx/logs/nginx.pid;\r\n\r\n#Specifies&nbsp;the&nbsp;value&nbsp;for&nbsp;maximum&nbsp;file&nbsp;descriptors&nbsp;that&nbsp;can&nbsp;be&nbsp;opened&nbsp;by&nbsp;this&nbsp;process.\r\nworker_rlimit_nofile&nbsp;51200;\r\n\r\nevents\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;epoll;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;worker_connections&nbsp;51200;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\nhttp\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mime.types;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default_type&nbsp;&nbsp;application/octet-stream;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_names_hash_bucket_size&nbsp;128;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client_header_buffer_size&nbsp;32k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;large_client_header_buffers&nbsp;4&nbsp;32k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client_max_body_size&nbsp;50m;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sendfile&nbsp;on;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tcp_nopush&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keepalive_timeout&nbsp;60;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tcp_nodelay&nbsp;on;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_connect_timeout&nbsp;300;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_send_timeout&nbsp;300;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_read_timeout&nbsp;300;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_buffer_size&nbsp;64k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_buffers&nbsp;4&nbsp;64k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_busy_buffers_size&nbsp;128k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_temp_file_write_size&nbsp;256k;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gzip&nbsp;on;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gzip_min_length&nbsp;&nbsp;1k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gzip_buffers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;16k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gzip_http_version&nbsp;1.0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gzip_comp_level&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gzip_types&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text/plain&nbsp;application/x-javascript&nbsp;text/css&nbsp;application/xml;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gzip_vary&nbsp;on;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gzip_proxied&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expired&nbsp;no-cache&nbsp;no-store&nbsp;private&nbsp;auth;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gzip_disable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;MSIE&nbsp;[1-6]\\.&quot;;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#limit_zone&nbsp;&nbsp;crawler&nbsp;&nbsp;$binary_remote_addr&nbsp;&nbsp;10m;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_tokens&nbsp;off;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#log&nbsp;format\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log_format&nbsp;&nbsp;access&nbsp;&nbsp;&#39;$remote_addr&nbsp;-&nbsp;$remote_user&nbsp;[$time_local]&nbsp;&quot;$request&quot;&nbsp;&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;$status&nbsp;$body_bytes_sent&nbsp;&quot;$http_referer&quot;&nbsp;&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;&quot;$http_user_agent&quot;&nbsp;$http_x_forwarded_for&#39;;\r\n\r\nserver\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;www.lnmp.org;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;index.html&nbsp;index.htm&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;/home/wwwroot/default;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;.*\\.(php|php5)?$\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try_files&nbsp;$uri&nbsp;=404;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;unix:/tmp/php-cgi.sock;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;fcgi.conf;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/status&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stub_status&nbsp;on;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;access_log&nbsp;&nbsp;&nbsp;off;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;.*\\.(gif|jpg|jpeg|png|bmp|swf)$\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expires&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30d;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;.*\\.(js|css)?$\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expires&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12h;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;access_log&nbsp;&nbsp;/home/wwwlogs/access.log&nbsp;&nbsp;access;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\ninclude&nbsp;vhost/*.conf;\r\n}</pre><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">OK,都弄好了，最后重启下lngx即可。我这是一键包，直接/root/lnmp restart搞定。<br/>预览下</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">http://test80.com/</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">http://test80.com:1010/</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">访问成功！结束！</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">附一些相关<span style=\"margin: 0px; padding: 0px; border: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;\"><a href=\"http://www.it-crazy.com/\" style=\"text-decoration: none; color: rgb(1, 150, 227);\" target=\"_blank\" title=\"文章\">文章</a></span><br/>防火墙开启端口</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">http://www.blogjava.net/Alpha/archive/2012/09/13/387640.html</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">http://www.myhack58.com/Article/48/66/2012/34999.htm</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 0em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">nginx多站点配置</p><p>http://highsea90.com/index.php/archives/899</p><p><br/></p>', '1481297341', 'cuiyufei', '9', '33', '2016-12');
INSERT INTO `blog_article` VALUES ('15', 'CI', 'CI', 'CI', 'uploads/20161209232729600.jpg', '<p><strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;\"><span style=\"background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(54, 54, 54);\">1.</span></span></span></strong><span style=\"color: rgb(54, 54, 54); font-family: &quot;Microsoft Yahei&quot;, Hei, Tahoma, SimHei, sans-serif; font-size: 16px; font-weight: bold; background-color: rgb(255, 255, 255);\">什么是 MVC 模式？</span></p><p><span style=\"word-wrap: break-word; margin: 0px; padding: 0px; font-weight: 700; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">MVC</span><span style=\"color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">（Model-View-Controller，模型—视图—控制器模式）用于表示一种软件架构模式。它把软件系统分为三个基本部分：模型（Model），视图（View）和控制器（Controller）。</span></p><p><br style=\"word-wrap: break-word; margin: 0px; padding: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">MVC 由 Trygve Reenskaug 提出，最早被应用在 SmallTalk-80 环境中。</span><span style=\"word-wrap: break-word; margin: 0px; padding: 0px; font-weight: 700; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">模型—视图—控制器模式</span><span style=\"color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">的目的是实现一种动态的程序设计，使后续对程序的修改和扩展简化，并且使程序某一部分的重复利用成为可能。除此之外此模式通过对复杂度的简化使程序结构更加直观。软件系统通过对自身基本部份分离的同时也赋予了各个基本部分应有的功能。专业人员可以通过自身的专长分组：</span><br style=\"word-wrap: break-word; margin: 0px; padding: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><ul style=\"word-wrap: break-word; margin-left: 14px; padding: 0px; border: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\" class=\" list-paddingleft-2\"><li><p>控制器 - 程序员编写程序应有的功能（实现算法等等）</p></li><li><p>视图 - 界面设计人员进行图形界面设计</p></li><li><p>模型 - 数据库专家进行数据管理和数据库设计<br style=\"word-wrap: break-word; margin: 0px; padding: 0px;\"/></p></li></ul><p><br style=\"word-wrap: break-word; margin: 0px; padding: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\"></span><br style=\"word-wrap: break-word; margin: 0px; padding: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"word-wrap: break-word; margin: 0px; padding: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"word-wrap: break-word; margin: 0px; padding: 0px; font-weight: 700; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">模型（Model）</span><span style=\"color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">“数据模型”（Model）用于封装与应用程序的业务逻辑相关的数据以及对数据的处理方法。“模型”有对数据直接访问的权利，例如对数据库的访问。“模型”不依赖“视图”和“控制器”，也就是说，模型不关心它会被如何显示或是如何被操作。但是模型中数据的变化一般会通过一种刷新机制被公布。为了实现这种机制，那些用于监视此模型的视图必须事先在此模型上注册，从而，视图可以了解在数据模型上发生的改变。</span><br style=\"word-wrap: break-word; margin: 0px; padding: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"word-wrap: break-word; margin: 0px; padding: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"word-wrap: break-word; margin: 0px; padding: 0px; font-weight: 700; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">视图（View）</span><span style=\"color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">&nbsp;视图层能够实现数据有目的的显示（理论上，这不是必需的）。在视图中一般没有程序上的逻辑。为了实现视图上的刷新功能，视图需要访问它监视的数据模型（Model），因此应该事先在被它监视的数据那里注册。</span><br style=\"word-wrap: break-word; margin: 0px; padding: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"word-wrap: break-word; margin: 0px; padding: 0px; color: rgb(54, 54, 54); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p><span style=\"word-wrap: break-word; margin: 0px; padding: 0px; font-weight: 700; color: rgb(54, 54, 54); background-color: rgb(255, 255, 255);\">控制器（Controller）</span><span style=\"color: rgb(54, 54, 54); background-color: rgb(255, 255, 255);\">&nbsp;控制器起到不同层面间的组织作用，用于控制应用程序的流程。它处理事件并作出响应。“事件”包括用户的行为和数据模型上的改变。</span></p><p><br/></p>', '1481297381', 'cuiyufei', '2', '34', '2016-12');
INSERT INTO `blog_article` VALUES ('16', 'dirname()', 'dirname()', 'dirname()', 'uploads/20161209232729600.jpg', '<p style=\"margin: 0px; padding: 0px; border: 0px; font-family: 微软雅黑; font-size: 14px;\">定义和用法</p><p>dirname() 函数返回路径中的目录部分。</p><p style=\"margin: 20px 0px 0px; padding: 0px; border: 0px; font-size: 12px;\">语法</p><p>dirname(path)<br/></p><p></p><p>参数</p><p>描述</p><p></p><p>path &nbsp; &nbsp;必需。规定要检查的路径。 &nbsp; &nbsp;</p><p>说明</p><p>path&nbsp;参数是一个包含有指向一个文件的全路径的字符串。该函数返回去掉文件名后的目录名。</p><p>例子</p><p>&lt;?php<br/>echo dirname(&quot;c:/testweb/home.php&quot;);<br/>echo dirname(&quot;/testweb/home.php&quot;);<br/>?&gt;<br/></p><p>输出：</p><p>c:/testweb<br/>/testweb</p><p><br/></p>', '1481297414', 'cuiyufei', '7', '34', '2016-12');
INSERT INTO `blog_article` VALUES ('17', 'PHP basename()', 'PHP basename()', '', 'uploads/20161209232729600.jpg', '<h1 style=\"margin: 15px 0px 0px 15px; padding: 0px; border: 0px; font-family: 微软雅黑; font-size: 26px; font-weight: 400; white-space: normal; background-color: rgb(249, 249, 249);\">PHP debug_backtrace() 函数</h1><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px;\"><a href=\"http://www.w3school.com.cn/php/php_ref_error.asp\" title=\"PHP Error 和 Logging 函数\" style=\"margin: 0px; padding: 0px; border: 0px; color: rgb(144, 11, 9); background: transparent;\">PHP Error 和 Logging 函数</a></p><h2 style=\"margin: 0px; padding: 0px; border: 0px; font-family: 微软雅黑; font-size: 14px;\">实例</h2><p style=\"margin-top: 12px; margin-bottom: 0px; padding: 0px; border: 0px;\">生成 PHP backtrace：</p><pre style=\"margin-top: 10px; margin-bottom: 0px; padding: 10px; border: 1px dotted rgb(119, 136, 85); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace; width: 685px; background-color: rgb(245, 245, 245);\">&lt;?php\r\n&nbsp;function&nbsp;a($txt)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b(&quot;Glenn&quot;);\r\n&nbsp;}\r\n&nbsp;function&nbsp;b($txt)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c(&quot;Cleveland&quot;);\r\n}\r\n&nbsp;function&nbsp;c($txt)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var_dump(debug_backtrace());\r\n&nbsp;}\r\n&nbsp;a(&quot;Peter&quot;);\r\n&nbsp;?&gt;</pre><p style=\"margin-top: 12px; margin-bottom: 0px; padding: 0px; border: 0px;\">以上代码的输出类似这样：</p><pre style=\"margin-top: 10px; margin-bottom: 0px; padding: 10px; border: 1px dotted rgb(119, 136, 85); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace; width: 685px; background-color: rgb(245, 245, 245);\">Array&nbsp;(\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0]&nbsp;=&gt;&nbsp;Array&nbsp;(\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[file]&nbsp;=&gt;&nbsp;C:\\webfolder\\test.php\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[line]&nbsp;=&gt;&nbsp;6\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[function]&nbsp;=&gt;&nbsp;c\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[args]&nbsp;=&gt;&nbsp;Array&nbsp;(\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0]&nbsp;=&gt;&nbsp;Cleveland\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1]&nbsp;=&gt;&nbsp;Array&nbsp;(\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[file]&nbsp;=&gt;&nbsp;C:\\webfolder\\test.php\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[line]&nbsp;=&gt;&nbsp;3\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[function]&nbsp;=&gt;&nbsp;b\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[args]&nbsp;=&gt;&nbsp;Array&nbsp;(\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0]&nbsp;=&gt;&nbsp;Glenn\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[2]&nbsp;=&gt;&nbsp;Array&nbsp;(\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[file]&nbsp;=&gt;&nbsp;C:\\webfolder\\test.php\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[line]&nbsp;=&gt;&nbsp;11\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[function]&nbsp;=&gt;&nbsp;a\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[args]&nbsp;=&gt;&nbsp;Array&nbsp;(\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0]&nbsp;=&gt;&nbsp;Peter\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)\r\n&nbsp;)</pre><h2 style=\"margin: 0px; padding: 0px; border: 0px; font-family: 微软雅黑; font-size: 14px;\">定义和用法</h2><p style=\"margin-top: 12px; margin-bottom: 0px; padding: 0px; border: 0px;\">debug_backtrace() 函数生成 backtrace（回溯跟踪）。</p><p style=\"margin-top: 12px; margin-bottom: 0px; padding: 0px; border: 0px;\">该函数显示由 debug_backtrace() 函数代码生成的数据。</p><p style=\"margin-top: 12px; margin-bottom: 0px; padding: 0px; border: 0px;\">返回一个关联数组。可能返回的元素如下：</p><table width=\"709\"><tbody style=\"margin: 0px; padding: 0px; border: 0px;\"><tr style=\"margin: 0px; padding: 0px; border: 0px;\" class=\"firstRow\"><th style=\"margin: 0px; padding-right: 15px; padding-left: 6px; border-color: rgb(170, 170, 170); vertical-align: baseline; text-align: left; width: 119px; background-color: rgb(213, 213, 213);\">名称</th><th style=\"margin: 0px; padding-right: 15px; padding-left: 6px; border-color: rgb(170, 170, 170); vertical-align: baseline; text-align: left; background-color: rgb(213, 213, 213);\">类型</th><th style=\"margin: 0px; padding-right: 15px; padding-left: 6px; border-color: rgb(170, 170, 170); vertical-align: baseline; text-align: left; background-color: rgb(213, 213, 213);\">描述</th></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">function</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">string</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">当前函数名称</td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">line</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">integer</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">当前行号</td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">file</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">string</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">当前文件名</td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">class</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">string</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">当前类名</td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">object</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">object</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">当前对象</td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">type</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">string</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\"><p style=\"border: 0px;\">当前调用类型。可能的调用：</p><ul style=\"list-style-type: none;\" class=\" list-paddingleft-2\"><li><p>返回: &quot;-&gt;&quot; - 方法调用</p></li><li><p>返回: &quot;::&quot; - 静态方法调用</p></li><li><p>返回 nothing - 函数调用</p></li></ul></td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">args</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">array</td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">如果在函数中，列出函数参数。如果在被引用的文件中，列出被引用的文件名。</td></tr></tbody></table><h2 style=\"margin: 0px; padding: 0px; border: 0px; font-family: 微软雅黑; font-size: 14px;\">语法</h2><pre style=\"margin-top: 10px; margin-bottom: 0px; padding: 10px; border: 1px dotted rgb(119, 136, 85); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace; width: 685px; background-color: rgb(245, 245, 245);\">debug_backtrace(options,limit);</pre><table width=\"709\"><tbody style=\"margin: 0px; padding: 0px; border: 0px;\"><tr style=\"margin: 0px; padding: 0px; border: 0px;\" class=\"firstRow\"><th style=\"margin: 0px; padding-right: 15px; padding-left: 6px; border-color: rgb(170, 170, 170); vertical-align: baseline; text-align: left; width: 119px; background-color: rgb(213, 213, 213);\">参数</th><th style=\"margin: 0px; padding-right: 15px; padding-left: 6px; border-color: rgb(170, 170, 170); vertical-align: baseline; text-align: left; background-color: rgb(213, 213, 213);\">描述</th></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\"><em style=\"margin: 0px; padding: 0px; border: 0px;\">options</em></td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\"><p style=\"border: 0px;\">可选。规定以下选项的位掩码：</p><ul style=\"list-style-type: none;\" class=\" list-paddingleft-2\"><li><p>DEBUG_BACKTRACE_PROVIDE_OBJECT （是否填充 &quot;object&quot; 的索引）</p></li><li><p>DEBUG_BACKTRACE_IGNORE_ARGS （是否忽略 &quot;args&quot; 的索引，包括所有的 function/method 的参数，能够节省内存开销。）</p></li></ul></td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\"><em style=\"margin: 0px; padding: 0px; border: 0px;\">limit</em></td><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">可选。限制返回堆栈帧的数量。默认为 (<em style=\"margin: 0px; padding: 0px; border: 0px;\">limit</em>=0) ，返回所有的堆栈帧。</td></tr></tbody></table><p>技术细节</p><table width=\"709\"><tbody style=\"margin: 0px; padding: 0px; border: 0px;\"><tr style=\"margin: 0px; padding: 0px; border: 0px;\" class=\"firstRow\"><th style=\"margin: 0px; padding-right: 15px; padding-left: 6px; border-color: rgb(170, 170, 170); vertical-align: baseline; text-align: left; width: 119px; background-color: rgb(213, 213, 213);\">返回值：</th><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">None</td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><th style=\"margin: 0px; padding-right: 15px; padding-left: 6px; border-color: rgb(170, 170, 170); vertical-align: baseline; text-align: left; background-color: rgb(213, 213, 213);\">PHP 版本：</th><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\">4.3+</td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px;\"><th style=\"margin: 0px; padding-right: 15px; padding-left: 6px; border-color: rgb(170, 170, 170); vertical-align: baseline; text-align: left; background-color: rgb(213, 213, 213);\">PHP 更新日志</th><td style=\"margin: 0px; padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top; background-color: rgb(239, 239, 239);\"><p style=\"border: 0px;\">PHP 5.4：添加了可选的参数&nbsp;<em style=\"margin: 0px; padding: 0px; border: 0px;\">limit</em>。</p><p style=\"margin-top: 12px; border: 0px;\">PHP 5.3.6：参数&nbsp;<em style=\"margin: 0px; padding: 0px; border: 0px;\">provide_object</em>&nbsp;改成&nbsp;<em style=\"margin: 0px; padding: 0px; border: 0px;\">options</em>，并且增加了可选参数 DEBUG_BACKTRACE_IGNORE_ARGS。</p><p style=\"margin-top: 12px; border: 0px;\">PHP 5.2.5：添加了可选参数&nbsp;<em style=\"margin: 0px; padding: 0px; border: 0px;\">provide_object</em>。</p><p style=\"margin-top: 12px; border: 0px;\">PHP 5.1.1：添加了当前的&nbsp;<em style=\"margin: 0px; padding: 0px; border: 0px;\">object</em>&nbsp;为可能返回的元素。</p></td></tr></tbody></table><p><br/></p>', '1481297441', 'cuiyufei', '10', '34', '2016-12');
INSERT INTO `blog_article` VALUES ('18', 'require_once()', 'require_once()', 'require_once()', 'uploads/20161209232729600.jpg', '<p><br/></p><p>require_once()</p><p>require_once()&nbsp;语句在脚本执行期间包含并运行指定文件。此行为和&nbsp;require()&nbsp;语句类似，唯一区别是如果该文件中的代码已经被包含了，则不会再次包含。有关此语句怎样工作参见&nbsp;require()&nbsp;的文档。</p><p>require_once()&nbsp;应该用于在脚本执行期间同一个文件有可能被包含超过一次的情况下，想确保它只被包含一次以避免函数重定义，变量重新赋值等问题。</p><p>&nbsp; &nbsp;</p><p></p><p><br/></p>', '1481297472', 'cuiyufei', '6', '34', '2016-12');
INSERT INTO `blog_article` VALUES ('20', 'Redis系统管理', 'Redis系统管理', '', 'uploads/20170107222404825.jpg', '<h2 style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:21px;\">一、适合全体类型的常用命令</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">启动redis服务和redis-cli命令界面继续后续实验：</p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（1）EXISTS and DEL</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">EXISTS key 判断一个key是否存在;存在返回 1;否则返回0;\r\nDEL key &nbsp;删除某个key,或是一系列key;DEL key1 key2 key3 key4。成功返回1，失败返回0（key值不存在）。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;set&nbsp;mykey&nbsp;hello\r\n\r\n&gt;&nbsp;exists&nbsp;mykey\r\n\r\n&gt;&nbsp;del&nbsp;mykey\r\n\r\n&gt;&nbsp;exists&nbsp;mykey</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"line-height: 16px;\"><img src=\"/ueditor/php/upload/image/20170107/1483800437471628.png\" title=\"1483800437471628.png\" alt=\"0bd3ef1f-f8b4-4a4d-9e19-ccf7f8d07a69.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（2）TYPE and KEYS</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">TYPE key：返回某个key元素的数据类型 ( none:不存在,string:字符,list,set,zset,hash)，key不存在返回空。\r\nKEYS key—pattern ：返回匹配的key列表 (KEYS foo*:查找foo开头的keys)</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;set&nbsp;mykey&nbsp;x\r\n\r\n&gt;&nbsp;type&nbsp;mykey\r\n\r\n&gt;keys&nbsp;my*\r\n\r\n&gt;&nbsp;del&nbsp;mykey\r\n\r\n&gt;keys&nbsp;my*\r\n\r\n&gt;&nbsp;type&nbsp;mykey</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img src=\"/ueditor/php/upload/image/20170107/1483800519318951.png\" title=\"1483800519318951.png\" alt=\"48f4d81e-ee86-43fd-8dfb-eeb9d7c1cfc0.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（3）RANDOMKEY and CLEAR</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">RANDOMKEY ： 随机获得一个已经存在的key，如果当前数据库为空，则返回空字符串</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;randomkey</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img src=\"/ueditor/php/upload/image/20170107/1483800542689283.png\" title=\"1483800542689283.png\" alt=\"e41edb2c-3975-4007-9d32-360bfac71379.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">CLEAR ：清除界面。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;clear</pre><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（4）RENAME &nbsp;and &nbsp;RENAMENX</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">RENAME oldname newname：改key的名字，新键如果存在将被覆盖\r\nRENAMENX oldname newname：更改key的名字，如果名字存在则更改失败</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">笔者randomkey结果为mylist，将此key值更名为newlist。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;randomkey\r\n\r\n&gt;&nbsp;rename&nbsp;mylist&nbsp;newlist\r\n\r\n&gt;&nbsp;exists&nbsp;mylist\r\n\r\n&gt;&nbsp;exists&nbsp;newlist</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img src=\"/ueditor/php/upload/image/20170107/1483800563224453.png\" title=\"1483800563224453.png\" alt=\"e41edb2c-3975-4007-9d32-360bfac71379.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（5） DBSIZE</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">DBSIZE ：返回当前数据库的key的总数</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;dbsize</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img src=\"/ueditor/php/upload/image/20170107/1483800589549343.png\" title=\"1483800589549343.png\" alt=\"4dc35afb-951a-43a8-beaa-d93eb00c71a3.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h2 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">二、Redis 时间相关命令</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（1）限定key生存时间</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">这同样是一个无视数据类型的命令，对于临时存储很有用处。避免进行大量的DEL操作。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">EXPIRE：设置某个key的过期时间（秒）,(EXPIRE bruce 1000：设置bruce这个key1000秒后系统自动删除)注意：如果在还没有过期的时候，对值进行了改变，那么那个值会被清除。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;set&nbsp;key&nbsp;some-value\r\n\r\n&gt;&nbsp;expire&nbsp;key&nbsp;10\r\n\r\n&gt;&nbsp;get&nbsp;key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(马上执行此命令)\r\n\r\n&gt;&nbsp;get&nbsp;key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(10s后执行此命令)</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img src=\"/ueditor/php/upload/image/20170107/1483800599248379.png\" title=\"1483800599248379.png\" alt=\"f79d1b68-df0c-459c-a34c-0f067ae151ed.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">结果显示，执行EXPIRE命令后，马上GET，显示key存在。10秒后再GET时，key 已经被自动删除。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（2）查询key剩余生存时间</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">限时操作可以再SET命令中实现，并且可用TTL命令查询key剩余生存时间。\r\nTTL：查找某个key还有多长时间过期,返回时间秒</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;set&nbsp;key&nbsp;100&nbsp;ex&nbsp;30\r\n\r\n&gt;&nbsp;ttl&nbsp;key\r\n\r\n&gt;&nbsp;ttl&nbsp;key</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img src=\"/ueditor/php/upload/image/20170107/1483800628153279.png\" title=\"1483800628153279.png\" alt=\"f87b4067-7548-415b-a5e8-fec5e56e61da.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（3）清除key</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">FLUSHDB：清空当前数据库中的所有键</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">FLUSHALL：清空所有数据库中的所有键</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;flushdb\r\n\r\n&gt;flushall</pre><h2 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">三、Redis设置相关命令</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">Redis有其配置文件，可以通过client-command窗口查看或者更改相关配置。相关命令介绍如下：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（1）CONFIG GET and CONFIG SET</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">CONFIG GET：用来读取运行Redis服务器的配置参数。\r\nCONFIG SET：用于更改运行Redis服务器的配置参数。\r\nAUTH : 认证密码\r\n下面针对Redis密码的示例：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;config&nbsp;get&nbsp;requirepass&nbsp;（查看密码）\r\n\r\n&gt;&nbsp;config&nbsp;set&nbsp;requirepass&nbsp;test123&nbsp;（设置密码为test123&nbsp;）\r\n\r\n&gt;&nbsp;config&nbsp;get&nbsp;requirepass&nbsp;&nbsp;（报错，没有认证）\r\n\r\n&gt;&nbsp;auth&nbsp;test123\r\n\r\n&gt;&nbsp;config&nbsp;get&nbsp;requirepass</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img src=\"/ueditor/php/upload/image/20170107/1483800655170405.png\" title=\"1483800655170405.png\" alt=\"3fac2fc9-cbbf-429f-8268-d6f613c4083b.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">由结果可知，刚开始时Reids并未设置密码，密码查询结果为空。然后设置密码为test123，再次查询报错。经过auth命令认证后，可正常查询。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">可以经过修改Redis的配置文件redis.conf修改密码。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">CONFIG GET命令是以list的key-value对显示的，如查询数据类型的最大条目：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;config&nbsp;get&nbsp;*max-*-entries*</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img src=\"/ueditor/php/upload/image/20170107/1483800676338315.png\" title=\"1483800676338315.png\" alt=\"e0a29211-595b-45f4-8e84-837f7e773c6b.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h3 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">（2）重置报告</h3><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">CONFIG RESETSTAT：重置数据统计报告，通常返回值为&#39;OK&quot;。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;CONFIG&nbsp;RESETSTAT</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"><img src=\"/ueditor/php/upload/image/20170107/1483800694475242.png\" title=\"1483800694475242.png\" alt=\"f15141d6-dc54-4fb1-a64d-10ed61c5c1a9.png\"/></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><h2 style=\"font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;\">四、查询信息</h2><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">INFO [section] ：查询Redis相关信息。\r\n INFO命令可以查询Redis几乎所有的信息，其命令选项有如下：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><ol style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\" class=\" list-paddingleft-2\"><li><p>server: Redis server的常规信息</p></li><li><p>clients: Client的连接选项</p></li><li><p>memory: 存储占用相关信息</p></li><li><p>persistence: RDB and AOF 相关信息</p></li><li><p>stats: 常规统计</p></li><li><p>replication: Master/slave请求信息</p></li><li><p>cpu: CPU 占用信息统计</p></li><li><p>cluster: Redis 集群信息</p></li><li><p>keyspace: 数据库信息统计</p></li><li><p>all: 返回所有信息</p></li><li><p>default: 返回常规设置信息</p></li></ol><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">若命令参数为空，info命令返回所有信息。</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><pre style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">&gt;&nbsp;info&nbsp;keyspace\r\n\r\n&gt;&nbsp;info&nbsp;server</pre><p style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\">操作截图：</p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Arial, sans;\"></span></p><p><img src=\"/ueditor/php/upload/image/20170107/1483800728123664.png\" style=\"\" title=\"1483800728123664.png\"/></p><p><img src=\"/ueditor/php/upload/image/20170107/1483800728971141.png\" style=\"\" title=\"1483800728971141.png\"/></p><p><br/></p>', '1481297578', 'cuiyufei', '29', '34', '2016-12');
INSERT INTO `blog_article` VALUES ('22', 'mysql导入数据', 'MySQL，数据导入导出', 'Linux中MySQL对数据进行导入和导出操作', 'uploads/20170107215318955.jpg', '<h1><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"><strong>数据库导出数据</strong></span></h1><ul class=\" list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">导出数据和表结构</span></p><p><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">mysqldump -u用户名 -p密码 数据库名 &gt; 文件名.sql</span></p><p><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">例如：</span></p><p><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">mysqldump -uroot -p monitor &gt; monitor.sql</span></p></li><li><p><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">只导出表结构</span></p><p><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">mysqldump -u用户名 -p密码 -d 数据库名 &gt; 文件名.sql</span></p><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">例如：</span></p><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">mysqldump -uroot -p -d monitor &gt; monitor.sql</span></p></li></ul><h1 style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"><strong>数据库导入数据</strong><br/></span></h1><ul class=\" list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">首先建立一个数据库<br/></span></p><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">mysql -uroot -p密码</span></p><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">&gt;create database test;</span></p></li><li><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">导入数据</span></p><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">mysql -u用户名 -p密码 数据库 &lt; 文件.sql</span></p><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">例如：</span></p><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">mysql -uroot -p monitor &lt; monitor.sql</span></p><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"></span></p><p style=\"white-space: normal;\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"></span></p></li></ul>', '1481447971', 'cuiyufei', '362', '38', '2017-01');
INSERT INTO `blog_article` VALUES ('24', 'docker基本操作', 'docker', 'docker中的一些基本操作', 'uploads/20170107223820161.jpg', '<p>获取镜像</p><p>sudo docker pull ubuntu</p><p>sudo docker pull ubuntu:14.04</p><p>上述命令相当于</p><p>sudo docker pull registry.hub.docker.com/ubuntu:latest</p><p>也可以聪哥DockerPool社区的镜像源dl.dockerpool.com下载</p><p>sudo docker pull dl.dockerpool.com:5000/ubuntu</p><p>运行其中的bash</p><p>sudo docker run -t -i ubuntu /bin/bash</p><p>查看镜像信息</p><p>sudo docker images</p><p>可以为镜像更改标签</p><p>sudo docker tag dl.dockerpool.com:5000/ubuntu:latest ubuntu:latest</p><p>标签起到引用或快捷方式的作用</p><p>查看镜像的详细信息</p><p>sudo docker inspect 镜像ID</p><p>sudo docker inspect -f 某一项参数</p><p>搜索镜像</p><p>使用docker search命令可以搜索远端仓库中共享的镜像，默认搜索Docker Hub官方仓库中的镜像。用法为docker search TERM，支持的参数包括：</p><p>--automated-false仅显示自动创建的镜像</p><p>--no-trunc=false输出信息不截断显示</p><p>-s， --stars=0指定仅显示评价为指定星级以上的镜像</p><p>删除镜像</p><p>docker rmi IMAGE（可以为标签或ID）</p><p>删除容器</p><p>sudo docker rm 容器ID</p><p>创建镜像</p><p>基于已有镜像的容器创建</p><p>docker commit 【OPTIONS】</p><p>-a，--author=“”作者信息</p><p>-m， --message=“”提交信息</p><p>-p， --pause=true提交时暂停容器运行</p><p>sudo docker commit -m &quot;sss&quot; -a &quot;cyf&quot; 8a9cf2974965 test</p><p>基于本地模板导入</p><p>sudo cat ubuntu-14.04-x86_64-minimal.tar.gz |docker import - ubuntu:14.04</p><p>存储和载入镜像</p><p>存储镜像到本地文件，可以使用docker save命令</p><p>sudo docker save -o Ubuntu_14.04.tar ubuntu:14.04</p><p>载入镜像</p><p>sudo docker load &lt;ubuntu_14.04.tar</p><p>上传镜像</p><p>sudo docker tag test:latest user/test:latest</p><p>sudo docker push user/test:latest</p><p><br/></p>', '1483799905', 'cuiyufei', '0', '39', '2017-01');
INSERT INTO `blog_article` VALUES ('25', 'docker 安装', 'docker，install，安装', 'docker在Linux下的安装', 'uploads/20170107223859270.jpg', '<p>安装最新版本</p><p>sudo apt-get install apt-transport-https</p><p>&nbsp;sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 36A1D7869245C8950F966E92D8576A8BA88D21E9</p><p>sudo bash -c &quot;echo deb https://get.docker.io/ubuntu docker main &gt; /etc/apt/sources.list.d/docker.list&quot;</p><p>sudo apt-get update</p><p>sudo apt-get install -y lxc-docker &nbsp;&nbsp;</p><p>以后更新使用一下命令</p><p>sudo apt-get update -y lxc-docker</p><p><br/></p>', '1483799971', 'cuiyufei', '1', '39', '2017-01');
INSERT INTO `blog_article` VALUES ('26', '仓库', '仓库', 'docker中的仓库', 'uploads/20170107224001474.jpg', '<p>仓库是集中存放镜像的地方。</p><p>注册服务器是存放仓库的具体服务器</p><p>Docker Hub</p><p>官方维护</p><p><a href=\"https://hub.docker.com/\">https://hub.docker.com</a></p><p>用户登录</p><p>docker login</p><p>Docker Pool</p><p><a href=\"http://dockerpool.com/\">http://dockerpool.com</a></p><p>国内专业的docker技术社区</p><p><a href=\"http://www.dockerpool.com/downloads\">http://www.dockerpool.com/downloads</a></p><p>sudo docker pull dl.dockerpool.com:5000/ubuntu:12.04</p><p>创建和使用私有仓库</p><p>sudo docker run -d -p 5000:5000 registry</p><p>默认存储路径为/tmp/registry</p><p>可以自定义路径</p><p>sudo docker run -d -p 5000:5000 -v /opt/data/registry:/tmp/registry registry</p><p><span style=\"font-size: 18px;\"><strong>自动创建</strong></span></p><p>自动创建（Automated Builds）功能对于需要经常升级镜像内程序来说十分方便。有时候，用户创建了镜像，安装了某个软件，如果软件发布新版本则需要手动更新镜像。</p><p>而自动创建功能使得用户通过Docker Hub指定一个目标网站（目前支持Github或BitBuckett）上的项目，一旦项目发现新的提交，则自动执行创建。</p><p>要配置自动创建，包括以下的步骤：</p><p>1）创建并登录Docker Hub，以及目标网站；*在目标网站中链接账户到Docker Hub。</p><p>2）在Docker Hub中配置一个自动创建。</p><p>3）选取一个目标网站中的项目（需要含Dockerfile）和分支</p><p>4）指定Dockerfile的位置，并提交创建</p><p>之后，可以在Docker Hub的“自动创建”页面中跟踪每次创建的状态</p><p><br/></p>', '1483800027', 'cuiyufei', '1', '39', '2017-01');
INSERT INTO `blog_article` VALUES ('27', '容器', 'docker', 'docker中容器的相关操作', 'uploads/20170107224101113.jpg', '<p>创建容器</p><p>sudo docker create -it ubuntu:latest</p><p>上述方法创建的容器处于停止状态，docker start来启动它</p><p>sudo docker run ubuntu /bin/echo &#39;hello,world&#39;</p><p>启动并运行</p><p>当利用docker run来创建并启动容器时，Docker在后台运行的标准操作包括：</p><p>*检查本地是否存在指定的镜像，不存在就从共有仓库下载。</p><p>*利用进行创建并启动一个容器。</p><p>*分配一个文件系统，并在只读的镜像层外面挂载一层可读写层。</p><p>*从宿主主机配置的网桥接口中桥接一个虚拟接口到容器中去。</p><p>*从地址池配置一个IP地址给容器</p><p>*执行用户指定的应用程序。</p><p>*执行完毕后容器被终止。</p><p>下面的命令则启动一个bash终端，允许用户进行交互：</p><p>sudo docker run -t -i ubuntu:14.04 /bin/bash</p><p>以守护态运行</p><p>sudo docker run -d ubuntu /bin/bash -c &nbsp;&quot;while true;do echo hello world; sleep 1; done&quot;</p><p>进入容器</p><p>attach命令</p><p>sudo docker -itd ubuntu</p><p>sudo docker attach sad_leakey</p><p>当多个窗口attach到同一个容器的时候，所有窗口都会同步显示。当某个窗口阻塞时，其他窗口页不能进行操作</p><p>exec命令</p><p>sudo docker exec -it&nbsp;</p><p>nsenter工具</p><p>源码安装</p><p>cd /tmp;curl <a href=\"https://www.kernel.org/pub/linux/utils/util-linux/v2.24/util-linux-2.24.tar.gz\">https://www.kernel.org/pub/linux/utils/util-linux/v2.24/util-linux-2.24.tar.gz</a>&nbsp;|tar -zxf-;cd util-linux-2.24;</p><p>./configure --without-ncurses</p><p>make nsenter &amp;&amp;sudo cp nsenter /usr/local/bin</p><p>sudo docker -itd ubuntu</p><p>PID=$(docker-pid 容器ID)</p><p>PID=$(docker-pid d7d67dab674a)</p><p>sudo nsenter --target 10981 --mount --uts --ipc --net --pid</p><p>删除容器</p><p>docker rm [options] container</p><p>-f, --force=false 强行终止并删除一个运行中的容器</p><p>-l，--link=false删除容器的连接，但保留容器</p><p>-v，--volumes=false删除容器挂在的数据卷</p><p>&nbsp;</p><p>导入和导出容器</p><p>导出容器是指导出一个已经创建的容器到一个文件，不管此时这个容器是否处于运行状态。</p><p>docker export CONTAINER</p><p>sudo docker export ce5 &gt;test_for_run.tar</p><p>sudo docker export e81 &gt; test_for_stop.tar</p><p>导入容器</p><p>docker import</p><p>cat test_for_run.tar| sudo docker import - test/ubuntu:v1.0</p><p>sudo docker images</p><p>docker load（镜像存储文件） 和docker import（镜像快照）都导入一个容器到本地镜像库。区别在于容器快照文件将丢弃所有的历史记录和元数据信息，而镜像存储文件将保存完整记录，体积也大。</p><p><br/></p>', '1483800082', 'cuiyufei', '70', '39', '2017-01');
INSERT INTO `blog_article` VALUES ('28', 'Linux终端中的快捷键', 'Linux，终端，shell', '在shell终端，一些简便的快捷键', 'uploads/20170107230200606.jpg', '<p>在shell命令终端中，Ctrl+n相当于方向向下的方向键，Ctrl+p相当于方向向上的方向键。</p><p>在命令终端中可以通过Ctrl+r 实现快速检索使用过的历史命令。Ctrl+r中r是retrieve中r</p><p>Ctrl+a：光标回到命令行首。 （a：ahead）</p><p>Ctrl+e：光标回到命令行尾。 （e：end）</p><p>Ctrl+b：光标向行首移动一个字符。 （b：backwards）</p><p>Ctrl+ f：光标向行尾移动一个字符。 （f：forwards）</p><p>Ctrl+w: 删除光标处到行首的字符。</p><p>Ctrl+k：删除光标处到行尾的字符。</p><p>Ctrl+u：删除整个命令行文本字符。</p><p>Ctrl+h：向行首删除一个字符。</p><p>Ctrl+d：向行尾删除一个字符。</p><p>Ctrl+y:：粘贴Ctrl+u，Ctrl+k，Ctrl+w删除的文本。</p><p>Ctrl+p: 上一个使用的历史命令。 （p：previous）</p><p>Ctrl+n： 下一个使用的历史命令。（n：next ）</p><p>Ctrl+r：快速检索历史命令。（r：retrieve）。</p><p>Ctrl+t： 交换光标所在字符和其前的字符。</p><p>Ctrl+i：相当于Tab键。</p><p>Ctrl+o：相当于Ctrl+m.</p><p>Ctrl+m：相当Enter键。</p><p>其他控制键：</p><p>Ctrl+s:使终端发呆，静止，可以使快速输出的终端屏幕停下来。</p><p>Ctrl+q：退出Ctrl+s引起的发呆。</p><p>Ctrl+z：使正在运行在终端的任务，运行于后台。 （可用fg恢复）</p><p>Ctrl+c：中断终端中正在执行的任务。</p><p>Ctrl+d: 在空命令行的情况下可以退出终端。</p><p>Ctrl+[ ：相当于Esc键。</p><p>Esc键：连续按3次显示所有的支持的终端命令。</p><p>Tab键：命令、文件名等自动补全功能。</p><p><br/></p>', '1483801084', 'cuiyufei', '65', '32', '2017-01');
INSERT INTO `blog_article` VALUES ('29', '云端Ubuntu出现以下错误：Virtual memory exhausted:Cannot allocate memory', '内存，硬盘', '云端Ubuntu出现以下错误：Virtual memory exhausted:Cannot allocate memory', 'uploads/20170107230147515.jpg', '<p>在云端ubuntu下编译程序出现了command :&quot;Virtual memory exhausted:Cannot allocate memory&quot;,我用df-h查看设备内存的时候还显示有很多啊~在网上查了一下说是虚拟内存不够，这在本地当然不会发生，因为本地有好多好多内存呢，但是亚马逊的云服务器未给你分配虚拟内存，所以可以通过自行增加虚拟内存的方法予以解决。将步骤总结了如下：</p><p>（1）用free或command free 查看系统内存使用情况（Linux下一般用command free）</p><p>从应用程序的角度来说，可用内存=系统free（ memory+buffers+cached.），如上图：971732=956856+2132+12744</p><p>swap：表示硬盘上交换分区的使用情况，此处为0</p><p>（2）确定硬盘的最佳块大小，为下面的块拷贝做准备，通过测试发现，块大小为1024个字节时拷贝速度最快</p><p>#dd if=/dev/zero bs=1024 count=1000000 of=/root/1Gb.file</p><p>#dd if=/dev/zero bs=2048 count=500000 of=/root/1Gb.file</p><p>#dd if=/dev/zero bs=4096 count=250000 of=/root/1Gb.file</p><p>#dd if=/dev/zero bs=8192 count=125000 of=/root/1Gb.file</p><p>（3）sudo dd if=/dev/zero of=/swapfile bs=1024 count=3M（bs为块大小，上一步骤已测试；count为拷贝次数。count和bs都是可调的~最终创建一个3M*1024个字节大小的文件）</p><p>（4）sudo mkswap /swapfile（把这个文件变成swap文件）</p><p>（5）sudo swapon /swapfile（启用这个swap文件）</p><p>（6）echo &quot;/swapfile swap swap sw 0 0 &gt; /etc/fstab（编辑/etc/fstab文件，使在每次开机时自动加载swap文件）</p><p>再次使用command free命令查看内存：</p><p>可以看到swap一栏里已经增加31457124个字节了~</p><p><br/></p>', '1483801311', 'cuiyufei', '106', '32', '2017-01');
INSERT INTO `blog_article` VALUES ('30', 'ubuntu下安装OpenLdap', 'Ubuntu，openldap', 'ubuntu下安装OpenLdap', 'uploads/20170107230258948.jpg', '<p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">安装OpenLdap需要BerkeleyDB的支持，否则configure时会报&nbsp;<span style=\"font-size: x-small;\">如下错误：</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\"><span style=\"color: rgb(255, 0, 0); font-size: x-small;\">configure: error: BDB/HDB: BerkeleyDB not available</span></span></p><p><span style=\"font-size: 21px;\"><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\"><strong>1.安装BerkeleyDB</strong></span></span></p><pre class=\"brush:bash;toolbar:false\">tar&nbsp;xvfz&nbsp;db-4.6.21.tar.gz&nbsp;&nbsp;\r\ncd&nbsp;db-4.6.21/build_unix/&nbsp;&nbsp;\r\n../dist/configure&nbsp;-prefix=/usr/local/BerkeleyDB&nbsp;&nbsp;\r\nmake&nbsp;&nbsp;\r\nmake&nbsp;install</pre><p><span style=\"font-size: 21px;\"><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\"><strong>2.配置环境变量</strong></span></span></p><pre class=\"brush:bash;toolbar:false\">vi&nbsp;/etc/profile&nbsp;&nbsp;\r\nexport&nbsp;CPPFLAGS=&quot;-I/usr/local/BerkeleyDB/include&quot;&nbsp;&nbsp;\r\nexport&nbsp;LDFLAGS=&quot;-L/usr/local/BerkeleyDB/lib&quot;</pre><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">&nbsp; &nbsp;</span><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif; color: rgb(0, 0, 255);\">wq保存后退出，使环境变量生效</span></p><pre class=\"brush:bash;toolbar:false\">source&nbsp;/etc/profile</pre><p><span style=\"font-size: 21px;\"><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\"><strong>3.复制文件</strong></span></span></p><pre class=\"brush:bash;toolbar:false\">cp&nbsp;/usr/local/BerkeleyDB/lib/*&nbsp;/usr/lib&nbsp;&nbsp;\r\ncp&nbsp;/usr/local/BerkeleyDB/include/*&nbsp;/usr/include</pre><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif;\"><span style=\"color: rgb(255, 0, 0); font-size: x-small;\">&nbsp;configure: error: Berkeley DB version mismatch</span><span style=\"font-size: x-small;\">&nbsp;<span style=\"color: rgb(255, 0, 0);\">注意：如不按照以上步骤可能会报如下错误：</span></span><br/></p><p><span style=\"font-size: 21px;\"><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\"><strong>4.安装OpenLdap</strong></span></span></p><pre class=\"brush:bash;toolbar:false\">tar&nbsp;zvxf&nbsp;openldap2.4.29.tgz&nbsp;&nbsp;\r\ncd&nbsp;/openldap2.4.29&nbsp;&nbsp;\r\n./configure&nbsp;--prefix=/usr/local/openldap&nbsp;&nbsp;\r\nmake&nbsp;depend&nbsp;&nbsp;\r\nmake&nbsp;&nbsp;\r\nmake&nbsp;test&nbsp;&nbsp;\r\nmake&nbsp;install</pre><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif;\"><span style=\"color: rgb(255, 0, 0);\">configure: error: MozNSS not found – please specify the location to the NSPR and NSS header files in CPPFLAGS and the location to the NSPR and NSS libraries in LDFLAGS (if not in the system location)</span><span style=\"color: rgb(255, 0, 0);\">注意： 在执行./configure的时候可能会报如下错误</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif;\">&nbsp;&nbsp;<span style=\"color: rgb(0, 0, 255);\">原因是openldap需要依赖openssl的一些库文件，安装openldap，然后配置SSL的环境变量</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">export CPPFLAGS=&quot;-I/usr/local/BerkeleyDB/include&nbsp;<span style=\"color: rgb(255, 0, 0);\">-I/usr/local/ssl/include</span>&nbsp;&quot;</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">export LDFLAGS=&quot;-L/usr/local/BerkeleyDB/lib&nbsp;<span style=\"color: rgb(255, 0, 0);\">-L/usr/local/ssl/lib</span>&nbsp;&quot;</span></p><p><span style=\"font-size: 24px;\"><strong><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">安装</span><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">ubuntu/nss_ldap</span></strong></span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">root@VM-113-13-ubuntu:/home/ubuntu/nss_ldap-265# make</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">make &nbsp;all-am</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">make[1]: Entering directory `/home/ubuntu/nss_ldap-265&#39;</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">CVSVERSIONDIR=. vers_string -v</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">/bin/bash: vers_string: command not found</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">make[1]: *** [vers.c] Error 127</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">make[1]: Leaving directory `/home/ubuntu/nss_ldap-265&#39;</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">make: *** [all] Error 2</span></p><p><span style=\"font-family: Helvetica, Tahoma, Arial, sans-serif;\">解决方法：</span></p><p><strong style=\"margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: baseline; color: rgb(30, 30, 30);\">export PATH=.:${PATH}&nbsp;</strong></p><p><br/></p>', '1483801395', 'cuiyufei', '59', '32', '2017-01');
INSERT INTO `blog_article` VALUES ('32', 'laravel Call to undefined method Illuminate\\View\\Factory::getFirstLoop()', 'error', 'laravel Call to undefined method Illuminate\\View\\Factory::getFirstLoop()', 'uploads/20170527194124601.jpg', '<p>getFirstLoop() method is missing from Illuminate\\View\\Concerns\\ManagesLoops</p><p>解决方案</p><pre class=\"brush:php;toolbar:false\">php&nbsp;artisan&nbsp;view:clear</pre><p><br/></p>', '1495885435', 'cuiyufei', '1', '40', '2017-05');
INSERT INTO `blog_article` VALUES ('33', 'Laravel : Syntax error or access violation: 1055 Error', 'laravel, violation', 'Laravel : Syntax error or access violation: 1055 Error\r\n\r\n', 'uploads/20170527194526735.jpg', '<h1 itemprop=\"name\" style=\"margin: 0px 0px 0.5em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-weight: inherit; font-stretch: inherit; font-size: 22px; line-height: 1.3; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><a href=\"https://stackoverflow.com/questions/40917189/laravel-syntax-error-or-access-violation-1055-error\" class=\"question-hyperlink\" style=\"margin: 0px 0px 0.5em; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: 24px; line-height: 1.35; font-family: inherit; vertical-align: baseline; color: rgb(36, 39, 41); text-decoration-line: none; cursor: pointer;\">Laravel : Syntax error or access violation: 1055 Error</a></h1><p>解决方案：</p><p>这可能是数据库格式的问题，可以尝试修改 config/database.php</p><p>将<span style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\">strict =&gt; false&nbsp;</span></p><pre class=\"brush:php;toolbar:false\">&#39;mysql&#39;&nbsp;=&gt;&nbsp;[\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;driver&#39;&nbsp;=&gt;&nbsp;&#39;mysql&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;host&#39;&nbsp;=&gt;&nbsp;env(&#39;DB_HOST&#39;,&nbsp;&#39;localhost&#39;),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;port&#39;&nbsp;=&gt;&nbsp;env(&#39;DB_PORT&#39;,&nbsp;&#39;3306&#39;),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;database&#39;&nbsp;=&gt;&nbsp;env(&#39;DB_DATABASE&#39;,&nbsp;&#39;forge&#39;),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;username&#39;&nbsp;=&gt;&nbsp;env(&#39;DB_USERNAME&#39;,&nbsp;&#39;forge&#39;),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;password&#39;&nbsp;=&gt;&nbsp;env(&#39;DB_PASSWORD&#39;,&nbsp;&#39;&#39;),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;charset&#39;&nbsp;=&gt;&nbsp;&#39;utf8&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;collation&#39;&nbsp;=&gt;&nbsp;&#39;utf8_unicode_ci&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;prefix&#39;&nbsp;=&gt;&nbsp;&#39;&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;strict&#39;&nbsp;=&gt;&nbsp;false,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&#39;engine&#39;&nbsp;=&gt;&nbsp;null,\r\n],</pre><p><br/></p>', '1495885697', 'cuiyufei', '0', '40', '2017-05');
INSERT INTO `blog_article` VALUES ('34', 'laravel关于routing=====/search?keyword=docker', 'laravel,routing', 'laravel搜索中关于路由的使用', 'uploads/20170527195107886.jpg', '<p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\">First register a route to listen your search request:</p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">1. Search Route:</strong>&nbsp;Register search route.</p><pre class=\"lang-php prettyprint prettyprinted\" style=\"margin-top: 0px; margin-bottom: 1em; padding: 5px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); color: rgb(57, 51, 24); word-wrap: normal;\">//route&nbsp;search&nbsp;Route::get(&#39;/search&#39;,[&#39;uses&#39;&nbsp;=&gt;&nbsp;&#39;SearchController@getSearch&#39;,&#39;as&#39;&nbsp;=&gt;&nbsp;&#39;search&#39;]);</pre><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">2. Search View:-</strong>&nbsp;Now create a search form in a view:-</p><pre class=\"lang-php prettyprint prettyprinted\" style=\"margin-top: 0px; margin-bottom: 1em; padding: 5px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); color: rgb(57, 51, 24); word-wrap: normal;\">&lt;form&nbsp;&nbsp;action=&quot;/search&quot;&nbsp;method=&quot;get&quot;&gt;&lt;input&nbsp;type=&quot;text&quot;&nbsp;&nbsp;name=&quot;q&quot;&nbsp;placeholder=&quot;Search..&quot;/&gt;&lt;button&nbsp;type=&quot;submit&quot;&gt;Search&lt;/button&gt;&lt;/form&gt;</pre><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">3. SearchController :</strong></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\">Now create SearchController to handle your searching logic. SearchController :</p><pre class=\"lang-php prettyprint prettyprinted\" style=\"margin-top: 0px; margin-bottom: 1em; padding: 5px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); color: rgb(57, 51, 24); word-wrap: normal;\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;?php&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;SearchController&nbsp;extends&nbsp;\\BaseController&nbsp;{\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;getSearch()\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//get&nbsp;keywords&nbsp;input&nbsp;for&nbsp;search\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$keyword=&nbsp;&nbsp;Input::get(&#39;q&#39;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//search&nbsp;that&nbsp;student&nbsp;in&nbsp;Database\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$students=&nbsp;Student::find($keyword);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//return&nbsp;display&nbsp;search&nbsp;result&nbsp;to&nbsp;user&nbsp;by&nbsp;using&nbsp;a&nbsp;view\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;View::make(&#39;selfservice&#39;)-&gt;with(&#39;student&#39;,&nbsp;$students);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\">Now you have to create one view&nbsp;<strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">selfservice</strong>&nbsp;to display your search result.</p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">4. Selfservice View:</strong></p><pre class=\"lang-php prettyprint prettyprinted\" style=\"margin-top: 0px; margin-bottom: 1em; padding: 5px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); color: rgb(57, 51, 24); word-wrap: normal;\">@foreach&nbsp;($students&nbsp;as&nbsp;$key=&gt;&nbsp;$student)&lt;div&gt;&lt;a&nbsp;href=&quot;{{&nbsp;URL::route(&#39;student.show&#39;,&nbsp;[&#39;id&#39;&nbsp;=&gt;&nbsp;$student-&gt;id])&nbsp;}}&quot;&gt;{{$student-&gt;name}}&lt;/a&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@endforeach</pre><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\">Here for each student result, one link will be created. That link will be link:-</p><pre class=\"lang-php prettyprint prettyprinted\" style=\"margin-top: 0px; margin-bottom: 1em; padding: 5px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); color: rgb(57, 51, 24); word-wrap: normal;\">website.domain/{student}</pre><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">5. Update Routes for Student</strong></p><pre class=\"lang-php prettyprint prettyprinted\" style=\"margin-top: 0px; margin-bottom: 1em; padding: 5px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); color: rgb(57, 51, 24); word-wrap: normal;\">Route::get(&#39;/{student}&#39;,[&#39;uses&#39;&nbsp;=&gt;&nbsp;&#39;HomeController@student&#39;,&#39;as&#39;&nbsp;=&gt;&nbsp;&#39;student.show&#39;]);</pre><hr style=\"border: 0px; color: rgb(214, 217, 220); background-color: rgb(214, 217, 220); height: 1px; margin-bottom: 20px; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; white-space: normal;\"/><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">UPDATE</strong>&nbsp;updated the answer to get student page directly</p><hr style=\"border: 0px; color: rgb(214, 217, 220); background-color: rgb(214, 217, 220); height: 1px; margin-bottom: 20px; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; white-space: normal;\"/><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\">To redirect from search to&nbsp;<code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; background-color: rgb(239, 240, 241); white-space: pre-wrap;\">website.domain\\{user}</code>&nbsp;follow these steps:-</p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">1. Modify SearchController</strong></p><pre class=\"lang-php prettyprint prettyprinted\" style=\"margin-top: 0px; margin-bottom: 1em; padding: 5px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); color: rgb(57, 51, 24); word-wrap: normal;\">&lt;?phpclass&nbsp;SearchController&nbsp;extends&nbsp;\\BaseController&nbsp;{\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;getSearch()\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//get&nbsp;keywords&nbsp;input&nbsp;for&nbsp;search\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$keyword=&nbsp;&nbsp;Input::get(&#39;q&#39;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//search&nbsp;that&nbsp;student&nbsp;in&nbsp;Database\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$student=&nbsp;Student::find($keyword);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//redirect&nbsp;directly&nbsp;to&nbsp;student.show&nbsp;route&nbsp;with&nbsp;student&nbsp;detail\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Redirect::route(&#39;student.show&#39;,&nbsp;array(&#39;student&#39;&nbsp;=&gt;&nbsp;$student));\r\n&nbsp;&nbsp;&nbsp;&nbsp;}}</pre><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">2.</strong>&nbsp;Now add a function for Route&nbsp;<code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; background-color: rgb(239, 240, 241); white-space: pre-wrap;\">student.show</code>&nbsp;in HomeController&nbsp;<code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; background-color: rgb(239, 240, 241); white-space: pre-wrap;\">Route::get(&#39;/{student}&#39;,[&#39;uses&#39; =&gt; &#39;HomeController@student&#39;,&#39;as&#39; =&gt; &#39;student.show&#39;]);</code></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 15px; line-height: inherit; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline;\">In HomeController</strong></p><pre class=\"lang-php prettyprint prettyprinted\" style=\"margin-top: 0px; margin-bottom: 1em; padding: 5px; border: 0px; font-variant-numeric: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); color: rgb(57, 51, 24); word-wrap: normal;\">public&nbsp;function&nbsp;student($student){\r\n&nbsp;&nbsp;&nbsp;&nbsp;//here&nbsp;display&nbsp;student&nbsp;detail}</pre><p><br/></p>', '1495885897', 'cuiyufei', '0', '33', '2017-05');
INSERT INTO `blog_article` VALUES ('35', 'ruby Gem命令详解', 'ruby，gem', 'ruby gem的相关命令', 'uploads/20170527195359129.jpg', '<p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">Gem介绍：</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">Gem是一个管理Ruby库和程序的标准包，它通过Ruby Gem（如&nbsp;<a href=\"http://rubygems.org/\" target=\"_blank\" style=\"box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration-line: none; cursor: pointer;\">http://rubygems.org/</a>&nbsp;）源来查找、安装、升级和卸载软件包，非常的便捷。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">Ruby 1.9.2版本默认已安装Ruby Gem，如果你使用其它发行版本，请参考“如何安装Ruby Gem”。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">Ruby gem包的安装方式：</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">所有的gem包，会被安装到 /[Ruby root]/lib/ruby/gems/[ver]/ 目录下，这其中包括了Cache、doc、gems、specifications 4个目录，cache下放置下载的原生gem包，gems下则放置的是解压过的gem包。<br style=\"box-sizing: border-box;\"/>当安装过程中遇到问题时，可以进入这些目录，手动删除有问题的gem包，然后重新运行 gem install [gemname] 命令即可。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">Ruby Gem命令详解：</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">//更新Gem自身<br style=\"box-sizing: border-box;\"/>//注意：在某些linux发行版中为了系统稳定性此命令禁止执行<br style=\"box-sizing: border-box;\"/>$ gem update --system</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">// 从Gem源安装gem包<br style=\"box-sizing: border-box;\"/>$ gem install [gemname]</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">// 从本机安装gem包<br style=\"box-sizing: border-box;\"/>$ gem install -l [gemname].gem</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">// 安装指定版本的gem包<br style=\"box-sizing: border-box;\"/>$ gem install [gemname] --version=[ver]</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">// 更新所有已安装的gem包<br style=\"box-sizing: border-box;\"/>$ gem update</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">// 更新指定的gem包<br style=\"box-sizing: border-box;\"/>// 注意：gem update [gemname]不会升级旧版本的包，此时你可以使用 gem install [gemname] --version=[ver]代替<br style=\"box-sizing: border-box;\"/>$ gem update [gemname]</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">// 删除指定的gem包，注意此命令将删除所有已安装的版本<br style=\"box-sizing: border-box;\"/>$ gem uninstall [gemname]</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">// 删除某指定版本gem<br style=\"box-sizing: border-box;\"/>$ gem uninstall [gemname] --version=[ver]</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">// 查看本机已安装的所有gem包<br style=\"box-sizing: border-box;\"/>$ gem list [--local]</p><p><br/></p>', '1495886074', 'cuiyufei', '1', '41', '2017-05');
INSERT INTO `blog_article` VALUES ('36', 'YouCompleteMe错误：ycm_core loading issues on Ubuntu 16.04', 'YouCompleteMe，vim，Ubuntu16.04', 'Ubuntu16.04 YouCompleteMe插件不能使用', 'uploads/20170527201724208.jpg', '<p><span style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\">安装python<span style=\"font-size: 16px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"></span>3库&nbsp;</span></p><pre class=\"brush:bash;toolbar:false\">sudo&nbsp;apt-get&nbsp;install&nbsp;python3-dev</pre><p></p><p><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">用python3重新编译YouCompleteMe</span></p><pre class=\"brush:bash;toolbar:false\">sudo&nbsp;apt-get&nbsp;install&nbsp;python3-dev</pre><p><br/></p>', '1495887752', 'cuiyufei', '4', '42', '2017-05');
INSERT INTO `blog_article` VALUES ('37', 'sublime Text3 配置php', 'sublime，php', '', 'uploads/20170528095207592.jpg', '<h1><span style=\"font-size: 36px;\">安装Package Control</span></h1><p><span style=\"font-size: 36px;\"></span></p><h2>1.Package Control 下载</h2><p>下载地址：https://github.com/wbond/sublime_package_control</p><p>托管在github 上，下载直接按 zip 那个按钮。解压之后，把文件夹名称修改为“Package Control”(注意大小写)</p><h2>2. 安装Package Control 步骤</h2><p>1、点击菜单-&gt;首选项-&gt;浏览程序包，打开一个文件夹，复制刚才的“Package Control”文件到该目录下面。</p><p>2、打开sublime text 3编辑器，在菜单-&gt;preferences-&gt;Package Settings和package control选项，就说明安装package control成功了。</p><h2><span style=\"font-size: 24px;\">3.插件配置</span></h2><h3><span style=\"font-size: 24px;\">SublimeLinter</span></h3><p style=\"white-space: normal;\">SublimeLinter的主页地址</p><p><a href=\"https://github.com/SublimeLinter/SublimeLinter\" _src=\"https://github.com/SublimeLinter/SublimeLinter\">https://github.com/SublimeLinter/SublimeLinter</a></p><p><br/> </p><p>SublimeLinter 是前端编码利器——Sublime Text 的一款插件，用于高亮提示用户编写的代码中存在的不规范和错误的写法，支持 JavaScript、CSS、HTML、Java、PHP、Python、Ruby 等十多种开发语言。</p><p>配置：</p><p>打开 SublimeLinter 的配置文件，Preferences-&gt;Package Settings-&gt;SublimeLinter-&gt;Settings - User，进行如下配置 1. 运行模式：</p><pre class=\"brush:php;toolbar:false\">&quot;sublimelinter&quot;:&nbsp;&quot;save-only&quot;,</pre><p>SublimeLinter 的运行模式，总共有四种，含义分别如下：</p><p>true - 在用户输入时在后台进行即时校验；</p><p>false - 只有在初始化的时候才进行校验；</p><p>&quot;load-save&quot; - 当文件加载和保存的时候进行校验；</p><p>&quot;save-only&quot; - 当文件被保存的时候进行校验；</p><p>推荐设置为 “save-only”，这样只在编写完代码，保存的时候才校验，Sublime Text 运行会更加流畅。</p><h3><span style=\"font-size: 24px;\">开启语法提示</span></h3><p>下载插件phpcs&gt;&gt;</p><p>https://github.com/benmatselby/sublime-phpcs</p><p>解压后修改文件夹名字为：Phpcs</p><p>把文件夹放到packages目录下</p><p><span style=\"font-size: 18px;\">ctrl+shift+p-&gt;install package</span><br/></p><p><span style=\"font-size: 18px;\">等下再找到phpcs的安装</span></p><p><span style=\"font-size: 18px;\"><a href=\"http://www.css88.com/archives/5858\" _src=\"http://www.css88.com/archives/5858\">http://www.css88.com/archives/5858</a> </span></p><p>Soda Theme</p><p>Sublime Text 3中较为常用的一款自定义编辑器主题，用过的人都说好。Soda Theme包含代码着色、标签、图标，拥有light和dark两种颜色主题便于用户在不同时间段使用。</p><p>地址：https://packagecontrol.io/packages/Theme%20-%20Soda</p><p>FileDiffs</p><p>FileDiffs插件可以让开发者比较两个不同文件的差异，比较的对象包括当前文件、另一文件、剪切板中的代码甚至未保存文件等。</p><p>地址：https://packagecontrol.io/packages/FileDiffs</p><p>Alignment</p><p>Aligment插件让开发者自动对齐代码，包括PHP、CSS、javascript语言。使得代码看起来更整齐美观，更具可读性。</p><p>地址：http://www.codealignment.com/</p><p><br/></p>', '1495937792', 'cuiyufei', '2', '43', '2017-05');
INSERT INTO `blog_article` VALUES ('38', 'Laravel-ide-helper 高效的 IDE 智能提示插件', 'laravle', 'barryvdh/laravel-ide-helper 扩展包能让你的 IDE ( PHPStorm, Sublime ) 实现自动完成、代码智能提示和代码跟踪等功能，大大提高你的开发效率。', 'uploads/20170528213105160.jpg', '<p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 8px; line-height: 30px; color: rgb(82, 82, 82); font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\"><a href=\"https://github.com/barryvdh/laravel-ide-helper\" style=\"box-sizing: border-box; background: transparent; color: rgb(5, 161, 162); text-decoration-line: none;\">barryvdh/laravel-ide-helper</a>&nbsp;扩展包能让你的 IDE ( PHPStorm, Sublime ) 实现自动完成、代码智能提示和代码跟踪等功能，大大提高你的开发效率。</p><blockquote style=\"box-sizing: border-box; padding: 1rem; font-size: 15px; border-left: none; line-height: 30px; color: rgb(135, 150, 168); background-color: rgb(245, 248, 252); font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; white-space: normal; margin: 20px 0px !important;\"><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; line-height: 30px;\">完整的高质量扩展包推荐列表，请前往：<a href=\"https://laravel-china.org/topics/2530\" style=\"box-sizing: border-box; background: transparent; color: rgb(5, 161, 162); text-decoration-line: none;\">下载量最高 100 个 Laravel 扩展包推荐</a></p></blockquote><h3 id=\"文章概览\" style=\"box-sizing: border-box; font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: 500; line-height: 1.43; color: rgb(82, 82, 82); margin-top: 1em; margin-bottom: 16px; font-size: 1.2em; position: relative; white-space: normal; background-color: rgb(255, 255, 255);\">文章概览<a href=\"https://laravel-china.org/topics/2532/extended-recommendation-laravel-ide-helper-efficient-ide-smart-tips-plugin#文章概览\" class=\"anchorific\" style=\"box-sizing: border-box; background: transparent; color: rgb(226, 226, 226); text-decoration-line: none; padding-left: 4px; display: inline-block;\">#</a></h3><ol style=\"box-sizing: border-box; padding: 10px 20px 10px 30px; line-height: 30px; color: rgb(125, 134, 136); font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\" class=\" list-paddingleft-2\"><li><p>安装；</p></li><li><p>使用效果。</p></li></ol><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 8px; line-height: 30px; color: rgb(82, 82, 82); font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">接下来是详细解说。</p><h2 id=\"安装\" style=\"box-sizing: border-box; font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: 500; line-height: 1.225; color: rgb(82, 82, 82); margin-top: 1em; margin-bottom: 16px; font-size: 1.3em; position: relative; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238); white-space: normal; background-color: rgb(255, 255, 255);\">安装<a href=\"https://laravel-china.org/topics/2532/extended-recommendation-laravel-ide-helper-efficient-ide-smart-tips-plugin#安装\" class=\"anchorific\" style=\"box-sizing: border-box; background: transparent; color: rgb(226, 226, 226); text-decoration-line: none; padding-left: 4px; display: inline-block;\">#</a></h2><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 8px; line-height: 30px; color: rgb(82, 82, 82); font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">1). 使用 Composer 安装该扩展包：</p><pre class=\"  language-php\" style=\"box-sizing: border-box; overflow: auto; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 15px; padding: 1em; line-height: 1.5; word-break: normal; word-wrap: normal; color: rgb(45, 45, 45); background-color: rgba(249, 248, 247, 0.529412); border: 1px solid rgb(239, 239, 239); border-radius: 0px; text-shadow: white 0px 1px; tab-size: 4; hyphens: none; box-shadow: rgba(199, 199, 199, 0.156863) 0px 2px 5px 0px, rgba(243, 243, 243, 0.117647) 0px 2px 10px 0px; margin-top: 1.2em !important; margin-bottom: 1.2em !important;\">composer&nbsp;require&nbsp;barryvdh/laravel-ide-helper</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 8px; line-height: 30px; color: rgb(82, 82, 82); font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">2). 安装完成后，在&nbsp;<code style=\"box-sizing: border-box; font-family: monaco, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.9em; padding: 1px 2px; color: rgb(133, 128, 128); background: rgb(249, 250, 250); border-radius: 4px; margin: 5px; border: 1px solid rgb(228, 228, 228); max-width: 740px; overflow-x: auto;\">config/app.php</code>&nbsp;添加以下内容到 providers 数组。</p><pre class=\"  language-php\" style=\"box-sizing: border-box; overflow: auto; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 15px; padding: 1em; line-height: 1.5; word-break: normal; word-wrap: normal; color: rgb(45, 45, 45); background-color: rgba(249, 248, 247, 0.529412); border: 1px solid rgb(239, 239, 239); border-radius: 0px; text-shadow: white 0px 1px; tab-size: 4; hyphens: none; box-shadow: rgba(199, 199, 199, 0.156863) 0px 2px 5px 0px, rgba(243, 243, 243, 0.117647) 0px 2px 10px 0px; margin-top: 1.2em !important; margin-bottom: 1.2em !important;\">Barryvdh\\LaravelIdeHelper\\IdeHelperServiceProvider::class,</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 8px; line-height: 30px; color: rgb(82, 82, 82); font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">3). 接下来运行以下命令生成代码对应文档：</p><pre class=\"  language-php\" style=\"box-sizing: border-box; overflow: auto; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 15px; padding: 1em; line-height: 1.5; word-break: normal; word-wrap: normal; color: rgb(45, 45, 45); background-color: rgba(249, 248, 247, 0.529412); border: 1px solid rgb(239, 239, 239); border-radius: 0px; text-shadow: white 0px 1px; tab-size: 4; hyphens: none; box-shadow: rgba(199, 199, 199, 0.156863) 0px 2px 5px 0px, rgba(243, 243, 243, 0.117647) 0px 2px 10px 0px; margin-top: 1.2em !important; margin-bottom: 1.2em !important;\">php&nbsp;artisan&nbsp;ide-helper:generate</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 8px; line-height: 30px; color: rgb(82, 82, 82); font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">由于使用此扩展包会生成相应的代码结构文件, 这些文件可能只有当前的开发者的 IDE 需要, 因此需要添加对应配置到&nbsp;<code style=\"box-sizing: border-box; font-family: monaco, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.9em; padding: 1px 2px; color: rgb(133, 128, 128); background: rgb(249, 250, 250); border-radius: 4px; margin: 5px; border: 1px solid rgb(228, 228, 228); max-width: 740px; overflow-x: auto;\">.gitignore</code>&nbsp;文件中：</p><pre class=\"  language-php\" style=\"box-sizing: border-box; overflow: auto; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 15px; padding: 1em; line-height: 1.5; word-break: normal; word-wrap: normal; color: rgb(45, 45, 45); background-color: rgba(249, 248, 247, 0.529412); border: 1px solid rgb(239, 239, 239); border-radius: 0px; text-shadow: white 0px 1px; tab-size: 4; hyphens: none; box-shadow: rgba(199, 199, 199, 0.156863) 0px 2px 5px 0px, rgba(243, 243, 243, 0.117647) 0px 2px 10px 0px; margin-top: 1.2em !important; margin-bottom: 1.2em !important;\">.idea\r\n_ide_helper.php\r\n_ide_helper_models.php.phpstorm.meta.php</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 8px; line-height: 30px; color: rgb(82, 82, 82); font-family: NotoSansHans-Regular, AvenirNext-Regular, arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">到此，此拓展包即安装成功&nbsp;<img title=\":beers:\" alt=\":beers:\" class=\"emoji\" src=\"/ueditor/php/upload/image/20170528/1495978241418484.png\" align=\"absmiddle\" style=\"box-sizing: border-box; border: 0px; vertical-align: middle; width: 1.6em; display: inline-block; margin-bottom: 0px; margin-top: -5px; margin-left: 5px; max-width: 100%;\"/><img title=\":beers:\" alt=\":beers:\" class=\"emoji\" src=\"/ueditor/php/upload/image/20170528/1495978241418484.png\" align=\"absmiddle\" style=\"box-sizing: border-box; border: 0px; vertical-align: middle; width: 1.6em; display: inline-block; margin-bottom: 0px; margin-top: -5px; margin-left: 5px; max-width: 100%;\"/><img title=\":beers:\" alt=\":beers:\" class=\"emoji\" src=\"/ueditor/php/upload/image/20170528/1495978241418484.png\" align=\"absmiddle\" style=\"box-sizing: border-box; border: 0px; vertical-align: middle; width: 1.6em; display: inline-block; margin-bottom: 0px; margin-top: -5px; margin-left: 5px; max-width: 100%;\"/></p><p><br/></p>', '1495978294', 'cuiyufei', '0', '40', '2017-05');
INSERT INTO `blog_article` VALUES ('39', 'laravel 实现简单的搜索', 'search，laravel', 'laravel 实现简单的搜索', 'uploads/20170528215022403.jpg', '<p>User::where(&#39;name&#39;, &#39;LIKE&#39;, &#39;%&#39;.$search.&#39;%&#39;)-&gt;get();</p><p><br/></p><p style=\"box-sizing: inherit; margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-size: 16.5px; vertical-align: baseline; background: 0px 0px rgb(255, 255, 255); letter-spacing: -0.025em; color: rgb(77, 84, 93); font-family: &quot;Source Sans Pro&quot;; white-space: normal;\">Add the following code to your eloquent user model</p><pre style=\"box-sizing: inherit; margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-size: 16.5px; vertical-align: baseline; background-position: 0px 0px; background-color: rgb(245, 247, 250); font-family: &quot;Source Code Pro&quot;, Monaco, Inconsolata, monospace; -webkit-font-smoothing: auto; line-height: 1.25; color: rgb(77, 84, 93); white-space: pre-wrap; word-wrap: normal;\">public&nbsp;function&nbsp;scopeSearchByKeyword($query,&nbsp;$keyword)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($keyword!=&#39;&#39;)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query-&gt;where(function&nbsp;($query)&nbsp;use&nbsp;($keyword)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$query-&gt;where(&quot;name&quot;,&nbsp;&quot;LIKE&quot;,&quot;%$keyword%&quot;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;orWhere(&quot;email&quot;,&nbsp;&quot;LIKE&quot;,&nbsp;&quot;%$keyword%&quot;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;orWhere(&quot;blood_group&quot;,&nbsp;&quot;LIKE&quot;,&nbsp;&quot;%$keyword%&quot;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;orWhere(&quot;phone&quot;,&nbsp;&quot;LIKE&quot;,&nbsp;&quot;%$keyword%&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$query;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p style=\"box-sizing: inherit; margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-size: 16.5px; vertical-align: baseline; background: 0px 0px rgb(255, 255, 255); letter-spacing: -0.025em; color: rgb(77, 84, 93); font-family: &quot;Source Sans Pro&quot;; white-space: normal;\">Then you can easily do</p><pre style=\"box-sizing: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px; font-size: 16.5px; vertical-align: baseline; background-position: 0px 0px; background-color: rgb(245, 247, 250); font-family: &quot;Source Code Pro&quot;, Monaco, Inconsolata, monospace; -webkit-font-smoothing: auto; line-height: 1.25; color: rgb(77, 84, 93); white-space: pre-wrap; word-wrap: normal;\">$keyword&nbsp;=&nbsp;Input::get(&#39;keyword&#39;,&nbsp;&#39;&#39;);\r\n$users&nbsp;=&nbsp;User::SearchByKeyword($keyword)-&gt;get();</pre><p><br/></p>', '1495979437', 'cuiyufei', '0', '40', '2017-05');
INSERT INTO `blog_article` VALUES ('40', '判断Laravel Eloquent获取数据结果集是否为空', 'laravel', '判断Laravel Eloquent获取数据结果集是否为空', 'uploads/20170528222629469.jpg', '<p>在使用Laravel Eloquent模型时，我们可能要判断取出的结果集是否为空，但我们发现直接使用is_null或empty是无法判段它结果集是否为空的。</p><p><br/></p><p>var_dump之后我们很容易发现，即使取到的空结果集， Eloquent仍然会返回Illuminate\\Database\\Eloquent\\Collection对象实例。</p><p>其实，Eloquent已经给我们封装几个判断方法。</p><pre class=\"brush:php;toolbar:false\">$result&nbsp;=&nbsp;Model::where(...)-&gt;get();\r\n//不为空则\r\nif&nbsp;($result-&gt;first())&nbsp;{&nbsp;}&nbsp;\r\nif&nbsp;(!$result-&gt;isEmpty())&nbsp;{&nbsp;}\r\nif&nbsp;($result-&gt;count())&nbsp;{&nbsp;}</pre><p><br/></p><p><br/></p>', '1495981641', 'cuiyufei', '1', '43', '2017-05');

-- ----------------------------
-- Table structure for blog_category
-- ----------------------------
DROP TABLE IF EXISTS `blog_category`;
CREATE TABLE `blog_category` (
  `cate_id` int(11) NOT NULL AUTO_INCREMENT,
  `cate_name` varchar(50) DEFAULT '' COMMENT '//分类名称',
  `cate_title` varchar(255) DEFAULT '' COMMENT '//分类标题',
  `cate_keywords` varchar(255) DEFAULT '' COMMENT '//关键字',
  `cate_description` varchar(255) DEFAULT '' COMMENT '//描述',
  `cate_view` int(10) DEFAULT '0' COMMENT '//查看次数',
  `cate_order` tinyint(4) DEFAULT '0' COMMENT '//排序',
  `cate_pid` int(10) DEFAULT '0' COMMENT '//父级id',
  PRIMARY KEY (`cate_id`)
) ENGINE=MyISAM AUTO_INCREMENT=44 DEFAULT CHARSET=utf8 COMMENT='//文章分类';

-- ----------------------------
-- Records of blog_category
-- ----------------------------
INSERT INTO `blog_category` VALUES ('32', 'Linux', 'Linux的相关知识', 'Linux', '123', '25', '4', '0');
INSERT INTO `blog_category` VALUES ('33', 'Nginx', 'Nginx', 'Nginx', '', '2', '2', '0');
INSERT INTO `blog_category` VALUES ('34', 'php', 'php相关基础知识', 'php', '', '14', '3', '0');
INSERT INTO `blog_category` VALUES ('39', 'docker', 'docker的学习', 'docker', '', '16', '8', '0');
INSERT INTO `blog_category` VALUES ('38', 'MySQL', 'MySQL的相关学习和解决方案', 'MySQL', '', '3', '7', '0');
INSERT INTO `blog_category` VALUES ('40', 'laravel', 'laravel相关知识的总结和错误解决方案', 'laravel', '', '0', '14', '0');
INSERT INTO `blog_category` VALUES ('41', 'ruby', 'ruby相关知识', 'ruby', 'ruby相关的命令操作和问题解决', '3', '34', '0');
INSERT INTO `blog_category` VALUES ('42', 'vim', 'Ubuntu下的vim', 'vim', 'Ubuntu下vim的使用和插件介绍', '0', '23', '0');
INSERT INTO `blog_category` VALUES ('43', 'sublime', 'sublime安装及相关插件安装', 'sublime', 'sublime安装及相关插件安装', '3', '1', '0');

-- ----------------------------
-- Table structure for blog_config
-- ----------------------------
DROP TABLE IF EXISTS `blog_config`;
CREATE TABLE `blog_config` (
  `conf_id` int(11) NOT NULL AUTO_INCREMENT COMMENT '//epi',
  `conf_title` varchar(50) DEFAULT '' COMMENT '//配置标题',
  `conf_name` varchar(50) DEFAULT '' COMMENT '//变量名',
  `conf_content` text COMMENT '//变量值',
  `conf_order` int(11) DEFAULT '0' COMMENT '//排序',
  `conf_tips` varchar(255) DEFAULT '' COMMENT '//描述',
  `field_type` varchar(50) DEFAULT '' COMMENT '//字段类型',
  `field_value` varchar(255) DEFAULT '' COMMENT '//类型值',
  PRIMARY KEY (`conf_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of blog_config
-- ----------------------------
INSERT INTO `blog_config` VALUES ('1', '网站标题', 'web_title', 'yiluohan1234\'blog', '4', '网站大众化标题aa', 'input', '');
INSERT INTO `blog_config` VALUES ('2', '统计代码', 'web_count', '<a href=\"/\">网站统计\r\n', '3', '网站访问情况的统计', 'textarea', '');
INSERT INTO `blog_config` VALUES ('3', '网站状态', 'web_status', '1', '6', '网站的开启和关闭', 'radio', '1|开启,0|关闭');
INSERT INTO `blog_config` VALUES ('4', '辅助标题', 'seo_title', 'larevel\'learn', '5', '对网站名称的补充', 'input', '');
INSERT INTO `blog_config` VALUES ('5', '关键词', 'web_keywords', 'blog,yiluohan1234,laravel', '7', '关键词', 'input', '');
INSERT INTO `blog_config` VALUES ('6', '描述', 'web_description', 'laravel框架学习', '8', '描述', 'textarea', '');
INSERT INTO `blog_config` VALUES ('7', '版权信息', 'web_copyright', 'Design by yiluohan1234 <a href=\"https://github.com/yiluohan1234\" target=\"_blank\">https://github.com/yiluohan1234</a>', '9', '网站的版权信息', 'textarea', '');

-- ----------------------------
-- Table structure for blog_links
-- ----------------------------
DROP TABLE IF EXISTS `blog_links`;
CREATE TABLE `blog_links` (
  `link_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `link_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '' COMMENT '//友情链接名称',
  `link_title` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '' COMMENT '//友情链接标题',
  `link_url` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '' COMMENT '//友情链接地址',
  `link_order` int(11) NOT NULL DEFAULT '0' COMMENT '//友情链接排序',
  PRIMARY KEY (`link_id`)
) ENGINE=MyISAM AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of blog_links
-- ----------------------------
INSERT INTO `blog_links` VALUES ('1', 'github', 'yiluohan1234\'github', 'https://github.com/yiluohan1234', '1');
INSERT INTO `blog_links` VALUES ('2', 'yiluohan0307', 'csdn', 'http://blog.csdn.net/yiluohan0307', '2');

-- ----------------------------
-- Table structure for blog_navs
-- ----------------------------
DROP TABLE IF EXISTS `blog_navs`;
CREATE TABLE `blog_navs` (
  `nav_id` int(11) NOT NULL AUTO_INCREMENT,
  `nav_name` varchar(50) DEFAULT '' COMMENT '//名称',
  `nav_alias` varchar(50) DEFAULT '' COMMENT '//别名',
  `nav_url` varchar(255) DEFAULT '' COMMENT '//地址',
  `nav_order` int(11) DEFAULT '0' COMMENT '//排序',
  PRIMARY KEY (`nav_id`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of blog_navs
-- ----------------------------
INSERT INTO `blog_navs` VALUES ('7', '首页', 'head', 'http://laravel.cn', '1');
INSERT INTO `blog_navs` VALUES ('8', 'About', 'About', 'http://', '2');
INSERT INTO `blog_navs` VALUES ('9', '慢生活', 'Life', 'http://', '3');
INSERT INTO `blog_navs` VALUES ('10', '碎言碎语', 'doing', 'http://', '4');
INSERT INTO `blog_navs` VALUES ('11', '模板分享', 'Share', 'http://', '5');
INSERT INTO `blog_navs` VALUES ('12', '学无止境', 'Study', 'http://', '6');
INSERT INTO `blog_navs` VALUES ('13', '留言板', 'Guestbook', 'http://', '7');

-- ----------------------------
-- Table structure for blog_user
-- ----------------------------
DROP TABLE IF EXISTS `blog_user`;
CREATE TABLE `blog_user` (
  `user_id` int(11) NOT NULL AUTO_INCREMENT,
  `user_name` varchar(255) DEFAULT '' COMMENT '//用户名',
  `user_pass` varchar(255) DEFAULT '' COMMENT '//密码',
  PRIMARY KEY (`user_id`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='//用户信息表';

-- ----------------------------
-- Records of blog_user
-- ----------------------------
INSERT INTO `blog_user` VALUES ('1', 'admin', 'eyJpdiI6IlFJM0haRGl3dkNJREJqdXg2MERIVnc9PSIsInZhbHVlIjoiUzhpZnc1a3J2MjY2b0NJUzkrOGF5dz09IiwibWFjIjoiMjA3NzRlMjk3ODkwYzQ4YmE2YTk5ODhkZjdmODVhYjBhYTExOWE3ZTc3NDM0Mjk2ZTgwY2I1NGY5OTIyN2U5MCJ9');
